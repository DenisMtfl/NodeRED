[
    {
        "id": "fc9b216f.ac82b",
        "type": "tab",
        "label": "Main",
        "disabled": false,
        "info": ""
    },
    {
        "id": "669b1a2e.f21914",
        "type": "tab",
        "label": "Homematic",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f82027d3.6c2bd8",
        "type": "tab",
        "label": "Heizung Keller",
        "disabled": false,
        "info": ""
    },
    {
        "id": "89975f1a.cf202",
        "type": "tab",
        "label": "Telegram/PC",
        "disabled": true,
        "info": ""
    },
    {
        "id": "821b7ada.ac7568",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": ""
    },
    {
        "id": "abf04a9f.34bfc8",
        "type": "tab",
        "label": "TP-LINK",
        "disabled": true,
        "info": ""
    },
    {
        "id": "841edb5c.67e0a8",
        "type": "tab",
        "label": "Alexa ",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1f20be62.7d5022",
        "type": "tab",
        "label": "Aqua",
        "disabled": true,
        "info": ""
    },
    {
        "id": "a0401077.5c319",
        "type": "tab",
        "label": "Corona",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cdd110e5.95f1c",
        "type": "tab",
        "label": "Stromverbrauch",
        "disabled": true,
        "info": ""
    },
    {
        "id": "9ea7c782.2684f8",
        "type": "tab",
        "label": "Spotify",
        "disabled": false,
        "info": ""
    },
    {
        "id": "aab4e9c31a5a05e8",
        "type": "tab",
        "label": "Flow 3",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fcfb5c7c5a675bbf",
        "type": "tab",
        "label": "Rpi_Display",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cd8bae607e79e91e",
        "type": "tab",
        "label": "Flow 4",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8850e193.e1712",
        "type": "subflow",
        "name": "SaveChart",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 80,
                "y": 140,
                "wires": [
                    {
                        "id": "40784bb1.204934"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 820,
                "y": 120,
                "wires": [
                    {
                        "id": "a6525d2.cb354a",
                        "port": 0
                    }
                ]
            }
        ]
    },
    {
        "id": "a8e4af88dd2af360",
        "type": "group",
        "z": "f82027d3.6c2bd8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0cdff1e6cced5ce9",
            "d5a776b5f25d6546",
            "f9d247f2c54746eb",
            "0a56032685f725e1",
            "10f6fbc42bd5d3c6",
            "da3b6eb4848f5259",
            "e1908af519feba0d",
            "30e53bf732ce0a3e",
            "b25505d42020f90e",
            "8dd6b30bcb31a927",
            "f16b34690aeca833",
            "435db782e44628ae"
        ],
        "x": 54,
        "y": 759
    },
    {
        "id": "285e5ab5cc693eda",
        "type": "group",
        "z": "fcfb5c7c5a675bbf",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "921fd6ee841b0ece",
            "99bbd57c8bba015c",
            "2e61c3316aed7506",
            "01d5e37d9169a0a2",
            "cf6e270330e80e39"
        ],
        "x": 1094,
        "y": 599
    },
    {
        "id": "d6e517f1.72f018",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#00a365",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#4B7930",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#4B7930",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#6db046",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ff0000",
                    "edited": true
                },
                "group-backgroundColor": {
                    "value": "#000000",
                    "edited": true
                },
                "widget-textColor": {
                    "value": "#ffffff",
                    "edited": true
                },
                "widget-backgroundColor": {
                    "value": "#4b7930",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#000000",
                    "edited": true
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "light-blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Zuhause",
            "hideToolbar": "true",
            "allowSwipe": "false",
            "lockMenu": "icon",
            "allowTempTheme": "true",
            "dateFormat": "DD.MM.YYYY",
            "sizes": {
                "sx": 39,
                "sy": 35,
                "gx": 0,
                "gy": 0,
                "cx": 0,
                "cy": 0,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "803332ff.b7a8c",
        "type": "ui_tab",
        "name": "Zuhause",
        "icon": "home",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "182cb5b9.92d7ba",
        "type": "ui_tab",
        "name": "Strom Statistik",
        "icon": "fa-line-chart ",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8ed04b92.083be8",
        "type": "ui_group",
        "name": "Temperatur",
        "tab": "803332ff.b7a8c",
        "order": 1,
        "disp": false,
        "width": "8",
        "collapse": false
    },
    {
        "id": "953d9f0a.fef86",
        "type": "mqtt-broker",
        "name": "Node_Red_MQTT",
        "broker": "192.168.1.170",
        "port": "1883",
        "clientid": "Node-RED",
        "autoConnect": true,
        "usetls": false,
        "compatmode": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "abb88fd4.ec728",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "182cb5b9.92d7ba",
        "order": 1,
        "disp": false,
        "width": "24",
        "collapse": false
    },
    {
        "id": "dc08db47.169458",
        "type": "ccu-connection",
        "name": "HomematicDenis",
        "host": "192.168.1.114",
        "regaEnabled": false,
        "bcrfEnabled": true,
        "iprfEnabled": true,
        "virtEnabled": true,
        "bcwiEnabled": false,
        "cuxdEnabled": true,
        "regaPoll": true,
        "regaInterval": "30",
        "rpcPingTimeout": "60",
        "rpcInitAddress": "192.168.1.170",
        "rpcServerHost": "192.168.1.170",
        "rpcBinPort": "2043",
        "rpcXmlPort": "2044",
        "tls": false,
        "inSecure": false,
        "authentication": false,
        "username": "",
        "password": "",
        "queueTimeout": "5000",
        "queuePause": "250",
        "contextStore": ""
    },
    {
        "id": "ca14d1e.342ce3",
        "type": "position-config",
        "name": "Home",
        "isValide": "true",
        "longitude": "0",
        "latitude": "0",
        "angleType": "deg",
        "timeZoneOffset": "99",
        "timeZoneDST": "0",
        "stateTimeFormat": "3",
        "stateDateFormat": "12",
        "contextStore": ""
    },
    {
        "id": "b91c83d7.af931",
        "type": "shared-state",
        "name": "target_temp",
        "lbl": "Target Temp",
        "tags": "",
        "historyCount": "1",
        "dataType": "num",
        "boolType": "bool",
        "boolStrTrue": "",
        "boolStrFalse": "",
        "precision": "4",
        "numMin": "0",
        "numMax": "40",
        "unit": "C"
    },
    {
        "id": "4fdfe1abbacd4c92",
        "type": "tankerkoenig2-config",
        "name": "Manteufel"
    },
    {
        "id": "3bfb825a40d7cd2a",
        "type": "shared-state",
        "name": "CurrentTrack",
        "lbl": "",
        "tags": "",
        "historyCount": "1",
        "dataType": "str",
        "boolType": "bool",
        "boolStrTrue": "",
        "boolStrFalse": "",
        "precision": "",
        "numMin": "",
        "numMax": "",
        "unit": ""
    },
    {
        "id": "a9d5ba39.268648",
        "type": "MySQLdatabase",
        "d": true,
        "name": "",
        "host": "192.168.1.62",
        "port": "3306",
        "db": "Strom",
        "tz": "",
        "charset": "UTF8"
    },
    {
        "id": "5e09b054.15b4a",
        "type": "alexa-smart-home-v3-conf",
        "username": "denis",
        "mqttserver": "mq-red.cb-net.co.uk",
        "webapiurl": "red.cb-net.co.uk",
        "contextName": "memory"
    },
    {
        "id": "d886c36296b0b8b0",
        "type": "spotify-auth",
        "name": "Spotify OAuth3",
        "scope": "ugc-image-upload\nuser-modify-playback-state\nuser-read-playback-state\nuser-read-currently-playing\nuser-follow-modify\nuser-follow-read\nuser-read-recently-played\nuser-read-playback-position\nuser-top-read\nplaylist-read-collaborative\nplaylist-modify-public\nplaylist-read-private\nplaylist-modify-private\napp-remote-control\nstreaming\nuser-read-email\nuser-read-private\nuser-library-modify\nuser-library-read"
    },
    {
        "id": "b37b3e386a6ac81e",
        "type": "ccu-connection",
        "name": "HomematicPapa",
        "host": "192.168.0.125",
        "regaEnabled": true,
        "bcrfEnabled": true,
        "iprfEnabled": true,
        "virtEnabled": true,
        "bcwiEnabled": false,
        "cuxdEnabled": true,
        "regaPoll": true,
        "regaInterval": "30",
        "rpcPingTimeout": "60",
        "rpcInitAddress": "192.168.1.170",
        "rpcServerHost": "192.168.1.170",
        "rpcBinPort": "2058",
        "rpcXmlPort": "2059",
        "tls": false,
        "inSecure": false,
        "authentication": false,
        "username": "",
        "password": "",
        "queueTimeout": "5000",
        "queuePause": "250",
        "contextStore": ""
    },
    {
        "id": "df57270a5572f079",
        "type": "shared-state",
        "name": "AktuellerSong",
        "lbl": "",
        "tags": "",
        "historyCount": "0",
        "dataType": "str",
        "boolType": "bool",
        "boolStrTrue": "",
        "boolStrFalse": "",
        "precision": "",
        "numMin": "",
        "numMax": "",
        "unit": "",
        "saveInterval": "0"
    },
    {
        "id": "834ca992.dee4e8",
        "type": "mqtt-broker",
        "name": "Server",
        "broker": "192.168.1.170",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "true",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "9bc5b729.d3fe08",
        "type": "mqtt-broker",
        "name": "",
        "broker": "192.168.1.170",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "compatmode": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "e56bd52de9c931a4",
        "type": "ui_group",
        "name": "Oben",
        "tab": "e669e2fa559fd517",
        "order": null,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "22a926e836b4544e",
        "type": "ui_group",
        "name": "Unten",
        "tab": "e669e2fa559fd517",
        "order": 2,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ba5ae90158a26445",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": true,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "friendlyName",
        "deviceSelector": "friendlyName",
        "entitySelector": "friendlyName",
        "statusSeparator": ": ",
        "statusYear": "numeric",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m:s",
        "enableGlobalContextStore": true
    },
    {
        "id": "a99f24fd0d55610a",
        "type": "tankerkoenig2-config",
        "name": "Manteufel"
    },
    {
        "id": "e669e2fa559fd517",
        "type": "ui_tab",
        "name": "Küche",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "bb93a0e16df6502e",
        "type": "ui_tab",
        "name": "Tab 4",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "65c4b77b44647ce1",
        "type": "ui_spacer",
        "z": "fcfb5c7c5a675bbf",
        "name": "spacer",
        "group": "22a926e836b4544e",
        "order": 14,
        "width": "1",
        "height": "1"
    },
    {
        "id": "450b32286513ccb9",
        "type": "ui_group",
        "name": "Ext",
        "tab": "e669e2fa559fd517",
        "order": 3,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5b7f31331a79ef8b",
        "type": "alexa-remote-account",
        "name": "Alexa",
        "authMethod": "proxy",
        "proxyOwnIp": "192.168.1.170",
        "proxyPort": "3456",
        "cookieFile": "config",
        "refreshInterval": "3",
        "alexaServiceHost": "layla.amazon.de",
        "amazonPage": "amazon.de",
        "acceptLanguage": "de-DE",
        "onKeywordInLanguage": "on",
        "userAgent": "",
        "useWsMqtt": "on",
        "autoInit": "on"
    },
    {
        "id": "1271de05.831cea",
        "type": "ui_group",
        "name": "Demo",
        "tab": "b81a8d9c.6cc6a",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b81a8d9c.6cc6a",
        "type": "ui_tab",
        "name": "Demo",
        "icon": "camera",
        "order": "1",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "3c6eeb8dc7a64526",
        "type": "ha-entity-config",
        "server": "ba5ae90158a26445",
        "deviceConfig": "",
        "name": "ShellyKellerTemperatur",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "ShellyKellerTemperatur"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "temperature"
            },
            {
                "property": "unit_of_measurement",
                "value": "°C"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "9dedcdcded1be652",
        "type": "ha-entity-config",
        "server": "ba5ae90158a26445",
        "deviceConfig": "",
        "name": "KellerHeizung",
        "version": "6",
        "entityType": "switch",
        "haConfig": [
            {
                "property": "name",
                "value": "KellerHeizung"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "switch"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "a0f72417.ea2838",
        "type": "file",
        "z": "8850e193.e1712",
        "name": "backup",
        "filename": "",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "x": 700,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "70a2db09.6ff354",
        "type": "file in",
        "z": "8850e193.e1712",
        "name": "restore",
        "filename": "",
        "format": "utf8",
        "sendError": true,
        "x": 530,
        "y": 120,
        "wires": [
            [
                "a6525d2.cb354a"
            ]
        ]
    },
    {
        "id": "922d4285.5f7e1",
        "type": "json",
        "z": "8850e193.e1712",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 530,
        "y": 160,
        "wires": [
            [
                "a0f72417.ea2838"
            ]
        ]
    },
    {
        "id": "a6525d2.cb354a",
        "type": "json",
        "z": "8850e193.e1712",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 690,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "40784bb1.204934",
        "type": "function",
        "z": "8850e193.e1712",
        "name": "LoadSave",
        "func": "var strSafe=msg.topic;\nif(strSafe)\n{\n    msg.filename =\"/share/chart.save\";\n    var loaded=context.get(strSafe)||0;\n    \n    if(0===loaded||strSafe==\"restore\")\n    {\n        //node.warn(\"Loading chart\");\n        msg.payload=\"load\";\n        context.set(strSafe,1);\n    }\n    else\n    {\n        //node.warn(\"Writing chart\");\n        //node.warn(msg.payload);\n    }\n    return msg;\n \n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 230,
        "y": 140,
        "wires": [
            [
                "51fb3038.7afb6"
            ]
        ]
    },
    {
        "id": "51fb3038.7afb6",
        "type": "switch",
        "z": "8850e193.e1712",
        "name": "Load data",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "load",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 140,
        "wires": [
            [
                "70a2db09.6ff354"
            ],
            [
                "922d4285.5f7e1"
            ]
        ]
    },
    {
        "id": "cdbe760.cc6d088",
        "type": "function",
        "z": "fc9b216f.ac82b",
        "name": "",
        "func": "var newMsg = { payload: \"POWER\" };\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 500,
        "wires": [
            [
                "f25b5219.0eac5"
            ]
        ]
    },
    {
        "id": "362f99c6.7789f6",
        "type": "switch",
        "z": "fc9b216f.ac82b",
        "name": "an-aus",
        "property": "$string(payload)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "eq",
                "v": "\"on\"",
                "vt": "jsonata"
            },
            {
                "t": "eq",
                "v": "\"off\"",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 650,
        "y": 420,
        "wires": [
            [
                "b2aa51c9.60101"
            ],
            [
                "b2aa51c9.60101"
            ]
        ]
    },
    {
        "id": "b2aa51c9.60101",
        "type": "ioBroker out",
        "z": "fc9b216f.ac82b",
        "name": "shellies/shelly1/relay/0/command",
        "topic": "mqtt.0.shellies.shelly1.relay.0.command",
        "ack": "false",
        "autoCreate": "false",
        "stateName": "",
        "role": "",
        "payloadType": "",
        "readonly": "",
        "stateUnit": "",
        "stateMin": "",
        "stateMax": "",
        "x": 940,
        "y": 340,
        "wires": []
    },
    {
        "id": "f25b5219.0eac5",
        "type": "viera write",
        "z": "fc9b216f.ac82b",
        "name": "",
        "host": "192.168.1.70",
        "function": "sendCommand",
        "x": 830,
        "y": 500,
        "wires": []
    },
    {
        "id": "f43a419c.b0a1b",
        "type": "amazon-echo-hub",
        "z": "fc9b216f.ac82b",
        "port": "80",
        "processinput": "3",
        "discovery": true,
        "x": 190,
        "y": 480,
        "wires": [
            [
                "d20235dc.440fc8",
                "b2895f29.afe72",
                "f1566723.c92508",
                "21aa684.8964098",
                "e8ac055b459549e6"
            ]
        ]
    },
    {
        "id": "d20235dc.440fc8",
        "type": "amazon-echo-device",
        "z": "fc9b216f.ac82b",
        "name": "Fernseher",
        "topic": "",
        "x": 450,
        "y": 500,
        "wires": [
            [
                "cdbe760.cc6d088"
            ]
        ]
    },
    {
        "id": "b2895f29.afe72",
        "type": "amazon-echo-device",
        "z": "fc9b216f.ac82b",
        "name": "Kamin",
        "topic": "",
        "x": 150,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "f1566723.c92508",
        "type": "amazon-echo-device",
        "z": "fc9b216f.ac82b",
        "name": "Leiste",
        "topic": "",
        "x": 250,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "21aa684.8964098",
        "type": "amazon-echo-device",
        "z": "fc9b216f.ac82b",
        "name": "Treppenstern",
        "topic": "",
        "x": 470,
        "y": 420,
        "wires": [
            [
                "362f99c6.7789f6"
            ]
        ]
    },
    {
        "id": "aade3839cbc82c1f",
        "type": "inject",
        "z": "fc9b216f.ac82b",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 630,
        "y": 340,
        "wires": [
            [
                "b2aa51c9.60101"
            ]
        ]
    },
    {
        "id": "6be4185cfd3da6ac",
        "type": "inject",
        "z": "fc9b216f.ac82b",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "off",
        "payloadType": "str",
        "x": 630,
        "y": 380,
        "wires": [
            [
                "b2aa51c9.60101"
            ]
        ]
    },
    {
        "id": "e8ac055b459549e6",
        "type": "link out",
        "z": "fc9b216f.ac82b",
        "name": "link out alexa",
        "mode": "link",
        "links": [
            "435db782e44628ae"
        ],
        "x": 345,
        "y": 320,
        "wires": []
    },
    {
        "id": "c9688605.dc3aa8",
        "type": "ioBroker get",
        "z": "669b1a2e.f21914",
        "name": "Heizung-Wohnzimmer INT0000001:1.ACTUAL_TEMPERATURE",
        "topic": "hm-rpc.3.INT0000001.1.ACTUAL_TEMPERATURE",
        "attrname": "payload",
        "payloadType": "value",
        "x": 450,
        "y": 100,
        "wires": [
            [
                "c2d6b5e3.4d1fe8",
                "8a35a92f.7f62e8"
            ]
        ]
    },
    {
        "id": "d4671cd2.35428",
        "type": "inject",
        "z": "669b1a2e.f21914",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [
            [
                "c9688605.dc3aa8"
            ]
        ]
    },
    {
        "id": "bafe4d57.2f2dc",
        "type": "inject",
        "z": "669b1a2e.f21914",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 310,
        "y": 320,
        "wires": [
            [
                "c142cc7e.d8d97",
                "5e7ccfd.b0f8a3"
            ]
        ]
    },
    {
        "id": "c142cc7e.d8d97",
        "type": "ioBroker get",
        "z": "669b1a2e.f21914",
        "name": "Aussen",
        "topic": "mqtt.0.Aussen",
        "attrname": "payload",
        "payloadType": "value",
        "x": 500,
        "y": 300,
        "wires": [
            [
                "334a9e4c.e45542"
            ]
        ]
    },
    {
        "id": "5e7ccfd.b0f8a3",
        "type": "ioBroker get",
        "z": "669b1a2e.f21914",
        "name": "Innen",
        "topic": "mqtt.0.Innen",
        "attrname": "payload",
        "payloadType": "value",
        "x": 490,
        "y": 360,
        "wires": [
            [
                "13c4b7c2.d96168"
            ]
        ]
    },
    {
        "id": "53549130.90936",
        "type": "debug",
        "z": "669b1a2e.f21914",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 970,
        "y": 340,
        "wires": []
    },
    {
        "id": "334a9e4c.e45542",
        "type": "ccu-value",
        "z": "669b1a2e.f21914",
        "name": "",
        "iface": "CUxD",
        "channel": "CUX9002001:1 Temp_Aussen:1",
        "datapoint": "SET_TEMPERATURE",
        "mode": "",
        "start": true,
        "change": false,
        "cache": false,
        "queue": false,
        "on": 0,
        "onType": "undefined",
        "ramp": 0,
        "rampType": "undefined",
        "working": false,
        "ccuConfig": "dc08db47.169458",
        "topic": "${CCU}/${Interface}/${channel}/${datapoint}",
        "x": 740,
        "y": 300,
        "wires": [
            [
                "53549130.90936"
            ]
        ]
    },
    {
        "id": "13c4b7c2.d96168",
        "type": "ccu-value",
        "z": "669b1a2e.f21914",
        "name": "",
        "iface": "CUxD",
        "channel": "CUX9002002:1 Temp_Innen:1",
        "datapoint": "SET_TEMPERATURE",
        "mode": "",
        "start": true,
        "change": false,
        "cache": false,
        "queue": false,
        "on": 0,
        "onType": "undefined",
        "ramp": 0,
        "rampType": "undefined",
        "working": false,
        "ccuConfig": "dc08db47.169458",
        "topic": "${CCU}/${Interface}/${channel}/${datapoint}",
        "x": 720,
        "y": 380,
        "wires": [
            [
                "53549130.90936"
            ]
        ]
    },
    {
        "id": "c2d6b5e3.4d1fe8",
        "type": "ui_artlessgauge",
        "z": "669b1a2e.f21914",
        "group": "8ed04b92.083be8",
        "order": 3,
        "width": 2,
        "height": 1,
        "name": "Wohnzimmer",
        "icon": "",
        "label": "Wohnzimmer",
        "unit": "°C",
        "layout": "radial",
        "decimals": "1",
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff8800",
                "t": "min",
                "dot": 2
            },
            {
                "val": 40,
                "col": "#ff8800",
                "t": "max",
                "dot": 2
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 850,
        "y": 80,
        "wires": []
    },
    {
        "id": "8a35a92f.7f62e8",
        "type": "mqtt out",
        "z": "669b1a2e.f21914",
        "name": "",
        "topic": "Wohnzimmer",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 850,
        "y": 120,
        "wires": []
    },
    {
        "id": "fbd5917.61e987",
        "type": "ui_button",
        "z": "f82027d3.6c2bd8",
        "name": "Aus",
        "group": "8ed04b92.083be8",
        "order": 15,
        "width": "1",
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "#0000FF",
        "bgcolor": "",
        "className": "",
        "icon": "fa-snowflake-o",
        "payload": "false",
        "payloadType": "bool",
        "topic": "switch",
        "topicType": "str",
        "x": 150,
        "y": 280,
        "wires": [
            [
                "47367155dccf0b88"
            ]
        ]
    },
    {
        "id": "c2b2e6ff.88ae68",
        "type": "ui_text",
        "z": "f82027d3.6c2bd8",
        "group": "8ed04b92.083be8",
        "order": 19,
        "width": "2",
        "height": 1,
        "name": "",
        "label": "Soll:",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 310,
        "y": 440,
        "wires": []
    },
    {
        "id": "2cfab1c4.bdd67e",
        "type": "ui_text",
        "z": "f82027d3.6c2bd8",
        "group": "8ed04b92.083be8",
        "order": 16,
        "width": "1",
        "height": 1,
        "name": "Ist an",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 1250,
        "y": 140,
        "wires": []
    },
    {
        "id": "90adaafe.3a6828",
        "type": "change",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "an",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "aus",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 80,
        "wires": [
            [
                "2cfab1c4.bdd67e"
            ]
        ]
    },
    {
        "id": "87b31e78.41036",
        "type": "ui_text",
        "z": "f82027d3.6c2bd8",
        "group": "8ed04b92.083be8",
        "order": 12,
        "width": 8,
        "height": 1,
        "name": "",
        "label": "Heizung im Keller",
        "format": "",
        "layout": "col-center",
        "x": 130,
        "y": 40,
        "wires": []
    },
    {
        "id": "2036c46f.30bfcc",
        "type": "ui_text_input",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "label": "Target",
        "tooltip": "",
        "group": "8ed04b92.083be8",
        "order": 18,
        "width": "2",
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": "500",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 270,
        "y": 80,
        "wires": [
            [
                "e72b306e.104df"
            ]
        ]
    },
    {
        "id": "2f8e9ae.c6c1d66",
        "type": "ui_button",
        "z": "f82027d3.6c2bd8",
        "name": "On",
        "group": "8ed04b92.083be8",
        "order": 20,
        "width": "1",
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "#00AA00",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "switch",
        "topicType": "str",
        "x": 150,
        "y": 240,
        "wires": [
            [
                "47367155dccf0b88"
            ]
        ]
    },
    {
        "id": "e72b306e.104df",
        "type": "set-shared-state",
        "z": "f82027d3.6c2bd8",
        "state": "b91c83d7.af931",
        "name": "Target Temp",
        "triggerOnInit": true,
        "provideOutput": false,
        "outputs": 0,
        "x": 450,
        "y": 80,
        "wires": []
    },
    {
        "id": "925b185d.981b68",
        "type": "get-shared-state",
        "z": "f82027d3.6c2bd8",
        "state": "b91c83d7.af931",
        "name": "Target Temp",
        "triggerOnInit": true,
        "x": 110,
        "y": 80,
        "wires": [
            [
                "2036c46f.30bfcc"
            ]
        ]
    },
    {
        "id": "5af175fa.da2d2c",
        "type": "mqtt in",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "topic": "keller.heizung.switch",
        "qos": "2",
        "datatype": "utf8",
        "broker": "953d9f0a.fef86",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 130,
        "y": 600,
        "wires": [
            [
                "41894a07.ca9514"
            ]
        ]
    },
    {
        "id": "41894a07.ca9514",
        "type": "rbe",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 290,
        "y": 600,
        "wires": [
            [
                "c181c5e978a42a58"
            ]
        ]
    },
    {
        "id": "5c66effa.aef44",
        "type": "ui_artlessgauge",
        "z": "f82027d3.6c2bd8",
        "group": "8ed04b92.083be8",
        "order": 4,
        "width": 2,
        "height": 1,
        "name": "Keller",
        "icon": "",
        "label": "Keller",
        "unit": "°C",
        "layout": "radial",
        "decimals": "1",
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff8800",
                "t": "min",
                "dot": 2
            },
            {
                "val": 40,
                "col": "#ff8800",
                "t": "max",
                "dot": 2
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 730,
        "y": 180,
        "wires": []
    },
    {
        "id": "47367155dccf0b88",
        "type": "dynamic thermostat",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "x": 590,
        "y": 300,
        "wires": [
            [
                "1f15861a4c74bbf4",
                "371653639d7463df"
            ]
        ]
    },
    {
        "id": "530d5a1a5edca724",
        "type": "inject",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1800",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "hysteresis",
        "payload": "0.3",
        "payloadType": "str",
        "x": 340,
        "y": 400,
        "wires": [
            [
                "47367155dccf0b88"
            ]
        ]
    },
    {
        "id": "c404b2396c2f72d1",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "func": "msg.payload = msg.payload; \nmsg.topic = 'current'; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 240,
        "wires": [
            [
                "47367155dccf0b88"
            ]
        ]
    },
    {
        "id": "401677eda80c939a",
        "type": "get-shared-state",
        "z": "f82027d3.6c2bd8",
        "state": "b91c83d7.af931",
        "name": "Target Temp",
        "triggerOnInit": true,
        "triggerOnChange": true,
        "x": 130,
        "y": 340,
        "wires": [
            [
                "62bd8775559b08e1",
                "c2b2e6ff.88ae68"
            ]
        ]
    },
    {
        "id": "62bd8775559b08e1",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "func": "msg.payload = msg.payload; \nmsg.topic = 'target'; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 360,
        "wires": [
            [
                "47367155dccf0b88"
            ]
        ]
    },
    {
        "id": "88238ec886d10e02",
        "type": "mqtt out",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "topic": "keller.heizung.switch",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 1040,
        "y": 280,
        "wires": []
    },
    {
        "id": "d42a132a70f51c13",
        "type": "mqtt out",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "topic": "cmnd/tasmota_keller_switch/POWER",
        "qos": "0",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 1090,
        "y": 220,
        "wires": []
    },
    {
        "id": "1f15861a4c74bbf4",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "func": "msg.payload = msg.payload.onoff\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 260,
        "wires": [
            [
                "88238ec886d10e02",
                "d42a132a70f51c13",
                "90adaafe.3a6828"
            ]
        ]
    },
    {
        "id": "734c3b2b05f1a87c",
        "type": "ui_text",
        "z": "f82027d3.6c2bd8",
        "group": "8ed04b92.083be8",
        "order": 17,
        "width": "1",
        "height": 1,
        "name": "Temp",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 1090,
        "y": 420,
        "wires": []
    },
    {
        "id": "371653639d7463df",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "func": "msg.payload = Number(msg.payload.current).toFixed(1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 420,
        "wires": [
            [
                "734c3b2b05f1a87c"
            ]
        ]
    },
    {
        "id": "fadf70ee441cd35b",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "func": "msg.payload = msg.payload; \nmsg.topic = 'switch'; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "c181c5e978a42a58",
        "type": "change",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "str",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "str",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 600,
        "wires": [
            [
                "fadf70ee441cd35b"
            ]
        ]
    },
    {
        "id": "2f1da5ce3f50d3ba",
        "type": "inject",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "switch",
        "payload": "",
        "payloadType": "str",
        "x": 370,
        "y": 500,
        "wires": [
            [
                "47367155dccf0b88"
            ]
        ]
    },
    {
        "id": "0cdff1e6cced5ce9",
        "type": "mqtt out",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "",
        "topic": "cmnd/tasmota_OhTannebaum/IRSend",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 870,
        "y": 860,
        "wires": []
    },
    {
        "id": "d5a776b5f25d6546",
        "type": "inject",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 400,
        "y": 860,
        "wires": [
            [
                "f9d247f2c54746eb",
                "e1908af519feba0d"
            ]
        ]
    },
    {
        "id": "f9d247f2c54746eb",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "",
        "func": "msg.payload = { \"Protocol\": \"RC5\", \"Bits\": 12, \"Data\": \"0xFC1\", \"DataLSB\": \"0xF083\", \"Repeat\": 2 }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 840,
        "wires": [
            [
                "0cdff1e6cced5ce9"
            ]
        ]
    },
    {
        "id": "0a56032685f725e1",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "",
        "func": "msg.payload = { \"Protocol\": \"RC5\", \"Bits\": 12, \"Data\": \"0x7C8\", \"DataLSB\": \"0xE013\", \"Repeat\": 2 }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 1020,
        "wires": [
            [
                "0cdff1e6cced5ce9"
            ]
        ]
    },
    {
        "id": "10f6fbc42bd5d3c6",
        "type": "inject",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 440,
        "y": 1000,
        "wires": [
            [
                "0a56032685f725e1",
                "b25505d42020f90e"
            ]
        ]
    },
    {
        "id": "da3b6eb4848f5259",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "",
        "func": "msg.payload = { \"Protocol\": \"RC5\", \"Bits\": 12, \"Data\": \"0x7C1\", \"DataLSB\": \"0xE083\", \"Repeat\": 2 }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 880,
        "wires": [
            [
                "0cdff1e6cced5ce9"
            ]
        ]
    },
    {
        "id": "e1908af519feba0d",
        "type": "delay",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 540,
        "y": 920,
        "wires": [
            [
                "da3b6eb4848f5259"
            ]
        ]
    },
    {
        "id": "30e53bf732ce0a3e",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "",
        "func": "msg.payload = { \"Protocol\": \"RC5\", \"Bits\": 12, \"Data\": \"0xFC8\", \"DataLSB\": \"0xF013\", \"Repeat\": 2 }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 1080,
        "wires": [
            [
                "0cdff1e6cced5ce9"
            ]
        ]
    },
    {
        "id": "b25505d42020f90e",
        "type": "delay",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 580,
        "y": 1140,
        "wires": [
            [
                "30e53bf732ce0a3e"
            ]
        ]
    },
    {
        "id": "8dd6b30bcb31a927",
        "type": "amazon-echo-device",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "Baum",
        "topic": "",
        "x": 190,
        "y": 800,
        "wires": [
            [
                "f16b34690aeca833"
            ]
        ]
    },
    {
        "id": "f16b34690aeca833",
        "type": "switch",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "an-aus",
        "property": "$string(payload)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "eq",
                "v": "\"on\"",
                "vt": "jsonata"
            },
            {
                "t": "eq",
                "v": "\"off\"",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 800,
        "wires": [
            [
                "f9d247f2c54746eb",
                "e1908af519feba0d"
            ],
            [
                "0a56032685f725e1",
                "b25505d42020f90e"
            ]
        ]
    },
    {
        "id": "435db782e44628ae",
        "type": "link in",
        "z": "f82027d3.6c2bd8",
        "g": "a8e4af88dd2af360",
        "name": "link in alexa baum",
        "links": [
            "e8ac055b459549e6"
        ],
        "x": 95,
        "y": 880,
        "wires": [
            [
                "8dd6b30bcb31a927"
            ]
        ]
    },
    {
        "id": "2c0e1afbbd1a21bd",
        "type": "ioBroker in",
        "z": "f82027d3.6c2bd8",
        "name": "shellyplusht-temp/status/temperature:0",
        "topic": "mqtt.0.shellyplusht-temp.status.temperature:0",
        "payloadType": "object",
        "onlyack": "",
        "func": "all",
        "gap": "",
        "fireOnStart": "true",
        "outFormat": "MQTT",
        "x": 190,
        "y": 180,
        "wires": [
            [
                "a6e89abcca1659c2"
            ]
        ]
    },
    {
        "id": "a6e89abcca1659c2",
        "type": "function",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "func": "msg.payload = JSON.parse(msg.payload.val).tC;\nmsg.topic = 'temp'; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 180,
        "wires": [
            [
                "5c66effa.aef44",
                "c404b2396c2f72d1",
                "eae6699e152b9642",
                "57982cc2f702b684"
            ]
        ]
    },
    {
        "id": "eae6699e152b9642",
        "type": "mqtt out",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "topic": "Keller",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 730,
        "y": 120,
        "wires": []
    },
    {
        "id": "9b7b6d16ddb6514c",
        "type": "ioBroker get",
        "z": "f82027d3.6c2bd8",
        "name": "shellyplusht-temp",
        "topic": "mqtt.0.shellyplusht-temp.status.temperature:0",
        "attrname": "payload",
        "payloadType": "object",
        "errOnInvalidState": "nothing",
        "x": 310,
        "y": 140,
        "wires": [
            [
                "a6e89abcca1659c2"
            ]
        ]
    },
    {
        "id": "e6f6a4ac7177d78c",
        "type": "inject",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "3",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 140,
        "wires": [
            [
                "9b7b6d16ddb6514c"
            ]
        ]
    },
    {
        "id": "57982cc2f702b684",
        "type": "ha-sensor",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "entityConfig": "3c6eeb8dc7a64526",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 730,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "c847ead106c42449",
        "type": "ha-switch",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "version": 0,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 2,
        "entityConfig": "9dedcdcded1be652",
        "enableInput": true,
        "outputOnStateChange": true,
        "outputProperties": [
            {
                "property": "outputType",
                "propertyType": "msg",
                "value": "state change",
                "valueType": "str"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 950,
        "y": 500,
        "wires": [
            [
                "d42a132a70f51c13"
            ],
            [
                "d42a132a70f51c13"
            ]
        ]
    },
    {
        "id": "a601f403d1ca142f",
        "type": "inject",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "props": [
            {
                "p": "enable",
                "v": "true",
                "vt": "bool"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 730,
        "y": 480,
        "wires": [
            [
                "c847ead106c42449"
            ]
        ]
    },
    {
        "id": "de5213b2d03698f0",
        "type": "inject",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "props": [
            {
                "p": "enable",
                "v": "false",
                "vt": "bool"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 730,
        "y": 520,
        "wires": [
            [
                "c847ead106c42449"
            ]
        ]
    },
    {
        "id": "99e5cd7cc873016a",
        "type": "change",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "enable",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 600,
        "wires": [
            [
                "c847ead106c42449",
                "903632279c1cd433"
            ]
        ]
    },
    {
        "id": "6ce08c55945c7c71",
        "type": "mqtt in",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "topic": "cmnd/tasmota_keller_switch/POWER",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "953d9f0a.fef86",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 670,
        "y": 680,
        "wires": [
            [
                "fa4b0bef58204592"
            ]
        ]
    },
    {
        "id": "903632279c1cd433",
        "type": "debug",
        "z": "f82027d3.6c2bd8",
        "name": "debug 16",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 960,
        "y": 680,
        "wires": []
    },
    {
        "id": "fa4b0bef58204592",
        "type": "rbe",
        "z": "f82027d3.6c2bd8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 790,
        "y": 640,
        "wires": [
            [
                "99e5cd7cc873016a"
            ]
        ]
    },
    {
        "id": "ee88001b.a076",
        "type": "delay",
        "z": "89975f1a.cf202",
        "name": "2 Minute",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 640,
        "y": 460,
        "wires": [
            [
                "7aa00e0.e5be1f4"
            ]
        ]
    },
    {
        "id": "21e97abf.1da6f6",
        "type": "debug",
        "z": "89975f1a.cf202",
        "name": "ok",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1150,
        "y": 340,
        "wires": []
    },
    {
        "id": "dffec221.5fbfb",
        "type": "debug",
        "z": "89975f1a.cf202",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 830,
        "y": 540,
        "wires": []
    },
    {
        "id": "ed0f2026.44bfe",
        "type": "exec",
        "z": "89975f1a.cf202",
        "command": "net rpc shutdown -f -t 1 -I 192.168.1.159 -U Denis%Amelie2014",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 610,
        "y": 880,
        "wires": [
            [
                "586276d5.ceb8a8"
            ],
            [],
            []
        ]
    },
    {
        "id": "586276d5.ceb8a8",
        "type": "delay",
        "z": "89975f1a.cf202",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 960,
        "y": 780,
        "wires": [
            [
                "7aa00e0.e5be1f4"
            ]
        ]
    },
    {
        "id": "8aaa3c80.03b61",
        "type": "switch",
        "z": "89975f1a.cf202",
        "name": "Ping ok",
        "property": "payload.failed",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 960,
        "y": 380,
        "wires": [
            [
                "21e97abf.1da6f6"
            ],
            [
                "bfb122db.32514"
            ]
        ]
    },
    {
        "id": "bfb122db.32514",
        "type": "debug",
        "z": "89975f1a.cf202",
        "name": "failed",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1150,
        "y": 400,
        "wires": []
    },
    {
        "id": "740b1082.ac1df",
        "type": "inject",
        "z": "89975f1a.cf202",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 600,
        "y": 380,
        "wires": [
            [
                "7aa00e0.e5be1f4"
            ]
        ]
    },
    {
        "id": "14f3b851.86ae58",
        "type": "inject",
        "z": "89975f1a.cf202",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 500,
        "y": 700,
        "wires": [
            [
                "8348e739.ce0f58"
            ]
        ]
    },
    {
        "id": "86765ef5.33705",
        "type": "exec",
        "z": "89975f1a.cf202",
        "command": "net rpc shutdown -f -t 1 -I 192.168.1.149 -U Denis%cafeaffe99!",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 610,
        "y": 940,
        "wires": [
            [
                "586276d5.ceb8a8"
            ],
            [],
            []
        ]
    },
    {
        "id": "5a907790.d12028",
        "type": "inject",
        "z": "89975f1a.cf202",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 940,
        "wires": [
            [
                "86765ef5.33705"
            ]
        ]
    },
    {
        "id": "838462bf.40c71",
        "type": "inject",
        "z": "89975f1a.cf202",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 880,
        "wires": [
            [
                "ed0f2026.44bfe"
            ]
        ]
    },
    {
        "id": "eb1467fd.0157c8",
        "type": "wake on lan",
        "z": "89975f1a.cf202",
        "mac": "90:2B:34:58:62:FE",
        "host": "",
        "udpport": 9,
        "name": "Sydney",
        "x": 660,
        "y": 500,
        "wires": []
    },
    {
        "id": "8348e739.ce0f58",
        "type": "wake on lan",
        "z": "89975f1a.cf202",
        "mac": "04:0E:3C:8C:D6:4D",
        "host": "",
        "udpport": 9,
        "name": "BERLIN",
        "x": 660,
        "y": 640,
        "wires": []
    },
    {
        "id": "7aa00e0.e5be1f4",
        "type": "tcp-ping",
        "z": "89975f1a.cf202",
        "ip": "192.168.1.159",
        "port": "445",
        "count": "200",
        "interval": "10",
        "timeout": "5000",
        "topic": "",
        "name": "",
        "x": 820,
        "y": 380,
        "wires": [
            [
                "8aaa3c80.03b61"
            ]
        ]
    },
    {
        "id": "7e6d559a.ba7d3c",
        "type": "http request",
        "z": "821b7ada.ac7568",
        "d": true,
        "name": "temperature",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://192.168.1.207:1880/out_temp",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 630,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "573da1b2.4489b",
        "type": "inject",
        "z": "821b7ada.ac7568",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": "3",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 180,
        "wires": [
            [
                "c833637c.aa01d",
                "bf43f58b5f110a30"
            ]
        ]
    },
    {
        "id": "c855a7c2.4238f8",
        "type": "http request",
        "z": "821b7ada.ac7568",
        "d": true,
        "name": "temperature",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://192.168.1.207:1880/in_temp",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 630,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "c833637c.aa01d",
        "type": "time-switch",
        "z": "821b7ada.ac7568",
        "name": "",
        "lat": "52.60711999999999",
        "lon": "13.245980000000031",
        "startTime": "06:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 310,
        "y": 180,
        "wires": [
            [
                "7e6d559a.ba7d3c",
                "c855a7c2.4238f8",
                "9cec585a4478f25a"
            ],
            []
        ]
    },
    {
        "id": "3c095c35.8d4164",
        "type": "ui_artlessgauge",
        "z": "821b7ada.ac7568",
        "group": "8ed04b92.083be8",
        "order": 5,
        "width": 2,
        "height": 1,
        "name": "Garten",
        "icon": "",
        "label": "Garten",
        "unit": "°C",
        "layout": "radial",
        "decimals": "1",
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": -20,
                "col": "#ff8800",
                "t": "min",
                "dot": 2
            },
            {
                "val": 40,
                "col": "#ff8800",
                "t": "max",
                "dot": 2
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 790,
        "y": 80,
        "wires": []
    },
    {
        "id": "9d6a4ec7.ce469",
        "type": "ui_artlessgauge",
        "z": "821b7ada.ac7568",
        "group": "8ed04b92.083be8",
        "order": 2,
        "width": 2,
        "height": 1,
        "name": "Pool",
        "icon": "",
        "label": "Pool",
        "unit": "°C",
        "layout": "radial",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff8800",
                "t": "min",
                "dot": 2
            },
            {
                "val": 40,
                "col": "#ff8800",
                "t": "max",
                "dot": 2
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 810,
        "y": 180,
        "wires": []
    },
    {
        "id": "ef778069.4848",
        "type": "inject",
        "z": "821b7ada.ac7568",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "50",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 380,
        "wires": [
            [
                "572586eb.0a8458"
            ]
        ]
    },
    {
        "id": "572586eb.0a8458",
        "type": "ioBroker get",
        "z": "821b7ada.ac7568",
        "name": "Verbleibend",
        "topic": "0_userdata.0.BadUnten.Verbleibend",
        "attrname": "payload",
        "payloadType": "value",
        "x": 390,
        "y": 380,
        "wires": [
            [
                "e66d4ebc.97bab",
                "996a99d4a5532d12"
            ]
        ]
    },
    {
        "id": "e66d4ebc.97bab",
        "type": "ui_text",
        "z": "821b7ada.ac7568",
        "group": "8ed04b92.083be8",
        "order": 11,
        "width": "4",
        "height": "1",
        "name": "",
        "label": "Waschmaschine",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "x": 600,
        "y": 380,
        "wires": []
    },
    {
        "id": "996a99d4a5532d12",
        "type": "mqtt out",
        "z": "821b7ada.ac7568",
        "name": "",
        "topic": "Waschen",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 580,
        "y": 420,
        "wires": []
    },
    {
        "id": "c3c104ca46a0b948",
        "type": "inject",
        "z": "821b7ada.ac7568",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 540,
        "wires": [
            [
                "f447f54d4f1b788c"
            ]
        ]
    },
    {
        "id": "f447f54d4f1b788c",
        "type": "ioBroker get",
        "z": "821b7ada.ac7568",
        "name": "Luft",
        "topic": "hm-rpc.4.002820C98F3A4D.2.ACTUAL_TEMPERATURE",
        "attrname": "payload",
        "payloadType": "value",
        "x": 390,
        "y": 540,
        "wires": [
            [
                "2d83a3e80b786eba",
                "6682edb0c87e6894",
                "029d2326e014913b",
                "f565d4a80f2ed5f4"
            ]
        ]
    },
    {
        "id": "2d83a3e80b786eba",
        "type": "ui_text",
        "z": "821b7ada.ac7568",
        "group": "8ed04b92.083be8",
        "order": 10,
        "width": "4",
        "height": "1",
        "name": "",
        "label": "Gartenhaus",
        "format": "{{msg.payload}} °C",
        "layout": "row-center",
        "className": "",
        "x": 590,
        "y": 540,
        "wires": []
    },
    {
        "id": "6682edb0c87e6894",
        "type": "mqtt out",
        "z": "821b7ada.ac7568",
        "name": "",
        "topic": "Pool",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 570,
        "y": 600,
        "wires": []
    },
    {
        "id": "029d2326e014913b",
        "type": "change",
        "z": "821b7ada.ac7568",
        "name": "Store pool temp",
        "rules": [
            {
                "t": "set",
                "p": "pooltemp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "936544a0c541d703",
        "type": "alexa-smart-home-v3-state",
        "z": "821b7ada.ac7568",
        "conf": "5e09b054.15b4a",
        "device": "42706",
        "name": "Pool",
        "x": 730,
        "y": 500,
        "wires": []
    },
    {
        "id": "f565d4a80f2ed5f4",
        "type": "function",
        "z": "821b7ada.ac7568",
        "name": "",
        "func": "/*var newmsg = msg {\n      acknowledge: true,\n      payload {\n          state {\n              \"brightness\": 0-100,\n              \"colorBrightness\": 0-1,\n              \"colorHue\": 0-360,\n              \"colorSaturation\": 0-1,\n              \"colorTemperature\": 0-10000,\n              \"contact\" : \"DETECTED\" || \"NOT_DETECTED\",\n              \"input\": string,\n              \"lock\": \"LOCKED\" || \"UNLOCKED\",\n              \"mode\" : string,\n              \"motion\" : \"DETECTED\" || \"NOT_DETECTED\",\n              \"mute\" : \"ON\" || \"OFF\",\n              \"percentage\": number,\n              \"percentageDelta\": number,\n              \"playback\": playback,\n              \"power\": \"ON\" || \"OFF\",\n              \"rangeValue\" : number,\n              \"rangeValueDelta\" : number,\n              \"temperature\": number,\n              \"thermostatMode\": \"HEAT\" || \"COOL\",\n              \"thermostatSetPoint\" : number,\n              \"targetSetpointDelta\": number,\n              \"volume\": number,\n              \"volumeDelta\": number\n          }\n      }\n  }*/\n\nvar newmsg = { \"payload\" : { \"state\" : { \"temperature\" : parseFloat(msg.payload) } }, \"acknowledge\" : true };\n\nreturn newmsg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 500,
        "wires": [
            [
                "936544a0c541d703"
            ]
        ]
    },
    {
        "id": "bf43f58b5f110a30",
        "type": "ioBroker get",
        "z": "821b7ada.ac7568",
        "name": "ACTUAL_TEMPERATURE",
        "topic": "hm-rpc.0.000EDF2992280C.1.ACTUAL_TEMPERATURE",
        "attrname": "payload",
        "payloadType": "value",
        "errOnInvalidState": "nothing",
        "x": 520,
        "y": 40,
        "wires": [
            [
                "3c095c35.8d4164"
            ]
        ]
    },
    {
        "id": "9cec585a4478f25a",
        "type": "ioBroker get",
        "z": "821b7ada.ac7568",
        "name": "Pool",
        "topic": "hm-rpc.4.002820C98F3A4D.1.ACTUAL_TEMPERATURE",
        "attrname": "payload",
        "payloadType": "value",
        "x": 650,
        "y": 260,
        "wires": [
            [
                "9d6a4ec7.ce469"
            ]
        ]
    },
    {
        "id": "42ec2938.adb538",
        "type": "ui_switch",
        "z": "abf04a9f.34bfc8",
        "d": true,
        "name": "",
        "label": "Pumpe",
        "tooltip": "",
        "group": "8ed04b92.083be8",
        "order": 14,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "{\"On\":true}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"On\":false}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "x": 140,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "f19d5061.f9594",
        "type": "ui_switch",
        "z": "abf04a9f.34bfc8",
        "d": true,
        "name": "",
        "label": "Licht",
        "tooltip": "",
        "group": "8ed04b92.083be8",
        "order": 13,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "{\"On\":true}",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{\"On\":false}",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "x": 160,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "d171649c.60e968",
        "type": "inject",
        "z": "abf04a9f.34bfc8",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "3",
        "topic": "",
        "payload": "startPowerEvents",
        "payloadType": "str",
        "x": 590,
        "y": 100,
        "wires": [
            [
                "37d1af8a.025d6"
            ]
        ]
    },
    {
        "id": "b24a7757.2b26d8",
        "type": "inject",
        "z": "abf04a9f.34bfc8",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "3",
        "topic": "",
        "payload": "getQuickInfo",
        "payloadType": "str",
        "x": 610,
        "y": 60,
        "wires": [
            [
                "37d1af8a.025d6"
            ]
        ]
    },
    {
        "id": "b597a7ad.a373f8",
        "type": "inject",
        "z": "abf04a9f.34bfc8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "3",
        "topic": "",
        "payload": "getQuickInfo",
        "payloadType": "str",
        "x": 610,
        "y": 480,
        "wires": [
            [
                "f0a7676.73c0a98"
            ]
        ]
    },
    {
        "id": "5c3854b8.6ed6bc",
        "type": "inject",
        "z": "abf04a9f.34bfc8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "3",
        "topic": "",
        "payload": "startPowerEvents",
        "payloadType": "str",
        "x": 630,
        "y": 520,
        "wires": [
            [
                "f0a7676.73c0a98"
            ]
        ]
    },
    {
        "id": "28b83983.06c476",
        "type": "function",
        "z": "abf04a9f.34bfc8",
        "name": "convert relay_state",
        "func": "if(msg.payload.hasOwnProperty('sysInfo'))\n{\n    if(msg.payload.sysInfo.relay_state == 1)\n        return { \"payload\": { \"On\": true } };\n    else\n         return { \"payload\": { \"On\": false } };\n} else\n    return { \"payload\": { \"On\": msg.payload.state } };",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 680,
        "wires": [
            [
                "f19d5061.f9594"
            ]
        ]
    },
    {
        "id": "44b3f661.228e38",
        "type": "function",
        "z": "abf04a9f.34bfc8",
        "name": "convert relay_state",
        "func": "if(msg.payload.hasOwnProperty('sysInfo'))\n{\n    if(msg.payload.sysInfo.relay_state == 1)\n        return { \"payload\": { \"On\": true } };\n    else\n         return { \"payload\": { \"On\": false } };\n} else\n    return { \"payload\": { \"On\": msg.payload.state } };",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 260,
        "wires": [
            [
                "42ec2938.adb538"
            ]
        ]
    },
    {
        "id": "81bda5db.eafaa8",
        "type": "switch",
        "z": "abf04a9f.34bfc8",
        "name": "an-aus-apple",
        "property": "$string(payload.On)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "eq",
                "v": "\"true\"",
                "vt": "jsonata"
            },
            {
                "t": "eq",
                "v": "\"false\"",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 570,
        "y": 160,
        "wires": [
            [
                "3c7f8b.6460a076"
            ],
            [
                "3c7f8b.6460a076"
            ]
        ]
    },
    {
        "id": "3c7f8b.6460a076",
        "type": "template",
        "z": "abf04a9f.34bfc8",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.On}}",
        "output": "str",
        "x": 740,
        "y": 160,
        "wires": [
            [
                "37d1af8a.025d6"
            ]
        ]
    },
    {
        "id": "557aa3aa.a0f7cc",
        "type": "switch",
        "z": "abf04a9f.34bfc8",
        "name": "an-aus-apple",
        "property": "$string(payload.On)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "eq",
                "v": "\"true\"",
                "vt": "jsonata"
            },
            {
                "t": "eq",
                "v": "\"false\"",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 580,
        "wires": [
            [
                "44f1f024.291b7"
            ],
            [
                "44f1f024.291b7"
            ]
        ]
    },
    {
        "id": "44f1f024.291b7",
        "type": "template",
        "z": "abf04a9f.34bfc8",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.On}}",
        "output": "str",
        "x": 780,
        "y": 580,
        "wires": [
            [
                "f0a7676.73c0a98"
            ]
        ]
    },
    {
        "id": "37d1af8a.025d6",
        "type": "kasa",
        "z": "abf04a9f.34bfc8",
        "d": true,
        "name": "Gartenpumpe - HS110(EU)",
        "device": "192.168.0.10",
        "interval": 60000,
        "eventInterval": "1000",
        "payload": "getQuickInfo",
        "payloadType": "info",
        "debug": false,
        "x": 1040,
        "y": 80,
        "wires": [
            [
                "44b3f661.228e38"
            ]
        ]
    },
    {
        "id": "f0a7676.73c0a98",
        "type": "kasa",
        "z": "abf04a9f.34bfc8",
        "d": true,
        "name": "Gartenlicht - HS100(EU)",
        "device": "192.168.0.106",
        "interval": 60000,
        "eventInterval": "1000",
        "payload": "getQuickInfo",
        "payloadType": "info",
        "debug": false,
        "x": 1030,
        "y": 500,
        "wires": [
            [
                "28b83983.06c476"
            ]
        ]
    },
    {
        "id": "cc2d7d50.0b1ef",
        "type": "change",
        "z": "841edb5c.67e0a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "acknowledge",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 680,
        "wires": [
            [
                "63a849a6.bc79d8"
            ]
        ]
    },
    {
        "id": "92d56a37.35a658",
        "type": "template",
        "z": "841edb5c.67e0a8",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\"state\": {\"thermostatSetPoint\": {{payload}} }} ",
        "output": "json",
        "x": 790,
        "y": 700,
        "wires": [
            [
                "cc2d7d50.0b1ef"
            ]
        ]
    },
    {
        "id": "34d8c6d5.0d251a",
        "type": "switch",
        "z": "841edb5c.67e0a8",
        "name": "",
        "property": "command",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "SetTargetTemperature",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "SetThermostatMode",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "AdjustTargetTemperature",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 230,
        "y": 760,
        "wires": [
            [
                "c30cc1c5.1d81c"
            ],
            [],
            [
                "97a7c87f.b96228"
            ]
        ],
        "outputLabels": [
            "SetTargetTemperature",
            "SetThermostatMode",
            ""
        ]
    },
    {
        "id": "9cd7de76.176b5",
        "type": "template",
        "z": "841edb5c.67e0a8",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\"state\": {\"thermostatSetPoint\": {{payload}} }} ",
        "output": "json",
        "x": 420,
        "y": 700,
        "wires": [
            [
                "c30cc1c5.1d81c"
            ]
        ]
    },
    {
        "id": "97a7c87f.b96228",
        "type": "ioBroker get",
        "z": "841edb5c.67e0a8",
        "name": "SET_POINT_TEMPERATURE",
        "topic": "hm-rpc.3.INT0000001.1.SET_POINT_TEMPERATURE",
        "attrname": "payload",
        "payloadType": "value",
        "x": 230,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "c30cc1c5.1d81c",
        "type": "ccu-value",
        "z": "841edb5c.67e0a8",
        "name": "",
        "iface": "VirtualDevices",
        "channel": "INT0000001:1",
        "datapoint": "SET_POINT_TEMPERATURE",
        "mode": "",
        "start": true,
        "change": true,
        "cache": true,
        "queue": false,
        "on": 0,
        "onType": "undefined",
        "ramp": 0,
        "rampType": "undefined",
        "working": false,
        "ccuConfig": "dc08db47.169458",
        "topic": "${CCU}/${Interface}/${channel}/${datapoint}",
        "x": 660,
        "y": 760,
        "wires": [
            [
                "92d56a37.35a658"
            ]
        ]
    },
    {
        "id": "7acf4675.2e44e8",
        "type": "feiertageDE",
        "z": "841edb5c.67e0a8",
        "name": "Feiertage DE",
        "local": "DE",
        "neujahr": true,
        "neujahrName": "Neujahr",
        "heiligeDreiKoenige": false,
        "heiligeDreiKoenigeName": "Heilige drei Könige",
        "weiberfastnacht": false,
        "weiberfastnachtName": "Weiberfastnacht",
        "valentinstag": false,
        "valentinstagName": "Valentinstag",
        "rosenmontag": false,
        "rosenmontagName": "Rosenmontag",
        "fastnachtsdienstag": false,
        "fastnachtsdienstagName": "Fastnachtdienstag",
        "aschermittwoch": false,
        "aschermittwochName": "Aschermittwoch",
        "gruendonnerstag": false,
        "gruendonnerstagName": "Gründonnerstag",
        "karfreitag": true,
        "karfreitagName": "Karfreitag",
        "easterSunday": true,
        "easterSundayName": "Ostersonntag",
        "easterMonday": true,
        "easterMondayName": "Ostermontag",
        "firstMay": true,
        "firstMayName": "1. Mai",
        "christiHimmelfahrt": true,
        "christiHimmelfahrtName": "Christi Himmelfahrt",
        "pfingstsonntag": true,
        "pfingstsonntagName": "Pfingstsonntag",
        "pfingstmontag": true,
        "pfingstmontagName": "Pfingstmontag",
        "fronleichnam": false,
        "fronleichnamName": "Fronleichnam",
        "mariaHimmelfahrt": false,
        "mariaHimmelfahrtName": "Maria Himmelfahrt",
        "tagDerDeutschenEinheit": true,
        "tagDerDeutschenEinheitName": "Tag der Deutschen Einheit",
        "halloween": false,
        "halloweenName": "Halloween",
        "allerheiligen": false,
        "allerheiligenName": "Allerheiligen",
        "stMartin": false,
        "stMartinName": "St. Martin",
        "bussUndBettag": false,
        "bussUndBettagName": "Buß und Bettag",
        "nikolaus": true,
        "nikolausName": "Nikolaus",
        "advent1": true,
        "advent1Name": "1. Advent",
        "advent2": true,
        "advent2Name": "2. Advent",
        "advent3": true,
        "advent3Name": "3. Advent",
        "advent4": true,
        "advent4Name": "4. Advent",
        "heiligabend": true,
        "heiligabendName": "Heiligabend",
        "weihnachten1": true,
        "weihnachten1Name": "1. Weihnachtsfeiertag",
        "weihnachten2": true,
        "weihnachten2Name": "2. Weihnachtsfeiertag",
        "silvester": true,
        "silvesterName": "Silvester",
        "ownHoliday1": true,
        "ownHoliday1Day": "8",
        "ownHoliday1Month": "3",
        "ownHoliday1Name": "Frauentag",
        "ownHoliday2": false,
        "ownHoliday2Day": 2,
        "ownHoliday2Month": 2,
        "ownHoliday2Name": "own Date 2",
        "ownHoliday3": false,
        "ownHoliday3Day": 3,
        "ownHoliday3Month": 3,
        "ownHoliday3Name": "own Date 3",
        "ownHoliday4": false,
        "ownHoliday4Day": 4,
        "ownHoliday4Month": 4,
        "ownHoliday4Name": "own Date 4",
        "ownHoliday5": false,
        "ownHoliday5Day": 5,
        "ownHoliday5Month": 5,
        "ownHoliday5Name": "own Date 5",
        "ownHoliday6": false,
        "ownHoliday6Day": 6,
        "ownHoliday6Month": 6,
        "ownHoliday6Name": "own Date 6",
        "ownHoliday7": false,
        "ownHoliday7Day": 7,
        "ownHoliday7Month": 7,
        "ownHoliday7Name": "own Date 7",
        "ownHoliday8": false,
        "ownHoliday8Day": 8,
        "ownHoliday8Month": 8,
        "ownHoliday8Name": "own Date 8",
        "ownHoliday9": false,
        "ownHoliday9Day": 9,
        "ownHoliday9Month": 9,
        "ownHoliday9Name": "own Date 9",
        "ownHoliday10": false,
        "ownHoliday10Day": 10,
        "ownHoliday10Month": 10,
        "ownHoliday10Name": "own Date 10",
        "array": false,
        "dailyOutput": true,
        "x": 330,
        "y": 60,
        "wires": [
            [
                "1d52ef29.8c6841"
            ]
        ]
    },
    {
        "id": "e7d5af31.e9573",
        "type": "ccu-value",
        "z": "841edb5c.67e0a8",
        "name": "ACTIVE_PROFILE",
        "iface": "VirtualDevices",
        "channel": "INT0000001:1",
        "datapoint": "ACTIVE_PROFILE",
        "mode": "",
        "start": true,
        "change": false,
        "cache": true,
        "queue": false,
        "on": 0,
        "onType": "undefined",
        "ramp": 0,
        "rampType": "undefined",
        "working": false,
        "ccuConfig": "dc08db47.169458",
        "topic": "${CCU}/${Interface}/${channel}/${datapoint}",
        "x": 830,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "173650c0.869b3f",
        "type": "function",
        "z": "841edb5c.67e0a8",
        "name": "2",
        "func": "var newMsg = { payload: 2 };\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 40,
        "wires": [
            [
                "e7d5af31.e9573"
            ]
        ]
    },
    {
        "id": "494995a0.8995fc",
        "type": "function",
        "z": "841edb5c.67e0a8",
        "name": "1",
        "func": "var newMsg = { payload: 1 };\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 80,
        "wires": [
            [
                "e7d5af31.e9573"
            ]
        ]
    },
    {
        "id": "1d52ef29.8c6841",
        "type": "switch",
        "z": "841edb5c.67e0a8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 60,
        "wires": [
            [
                "173650c0.869b3f"
            ],
            [
                "494995a0.8995fc"
            ]
        ]
    },
    {
        "id": "641fb8ad.fe40f8",
        "type": "inject",
        "z": "841edb5c.67e0a8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": true,
        "onceDelay": "50",
        "topic": "",
        "payload": "isTodayHoliday",
        "payloadType": "str",
        "x": 140,
        "y": 60,
        "wires": [
            [
                "7acf4675.2e44e8"
            ]
        ]
    },
    {
        "id": "73b4c130.b0122",
        "type": "alexa-smart-home-v3",
        "z": "841edb5c.67e0a8",
        "conf": "5e09b054.15b4a",
        "device": "20357",
        "acknowledge": true,
        "name": "Heizung",
        "topic": "",
        "x": 100,
        "y": 680,
        "wires": [
            [
                "34d8c6d5.0d251a"
            ]
        ]
    },
    {
        "id": "63a849a6.bc79d8",
        "type": "alexa-smart-home-v3-state",
        "z": "841edb5c.67e0a8",
        "conf": "5e09b054.15b4a",
        "device": "20357",
        "name": "Heizung",
        "x": 1220,
        "y": 680,
        "wires": []
    },
    {
        "id": "6b604fa2.422d1",
        "type": "inject",
        "z": "1f20be62.7d5022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 130,
        "y": 300,
        "wires": [
            [
                "c9965de2.d19a8"
            ]
        ]
    },
    {
        "id": "7401f69f.fb45c8",
        "type": "http request",
        "z": "1f20be62.7d5022",
        "name": "ON",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://192.168.1.149/cm?cmnd=Dimmer%20{{{payload}}}",
        "tls": "",
        "persist": true,
        "proxy": "",
        "authType": "",
        "x": 730,
        "y": 320,
        "wires": [
            [
                "d6152285.57c1a"
            ]
        ]
    },
    {
        "id": "f7c689d1.56b7f8",
        "type": "inject",
        "z": "1f20be62.7d5022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 130,
        "y": 340,
        "wires": [
            [
                "c9965de2.d19a8"
            ]
        ]
    },
    {
        "id": "ee4d71b.38ee39",
        "type": "debug",
        "z": "1f20be62.7d5022",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 220,
        "wires": []
    },
    {
        "id": "f44ff81a.e76488",
        "type": "debug",
        "z": "1f20be62.7d5022",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 780,
        "wires": []
    },
    {
        "id": "af7904ab.f53478",
        "type": "inject",
        "z": "1f20be62.7d5022",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 880,
        "wires": [
            [
                "effd1bff.d339d8",
                "5be54d2d.ef6734"
            ]
        ]
    },
    {
        "id": "e82f7d66.4b294",
        "type": "debug",
        "z": "1f20be62.7d5022",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 840,
        "wires": []
    },
    {
        "id": "7b711878.d31328",
        "type": "debug",
        "z": "1f20be62.7d5022",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 900,
        "wires": []
    },
    {
        "id": "947a0a0e.b3d338",
        "type": "inject",
        "z": "1f20be62.7d5022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 130,
        "y": 180,
        "wires": [
            [
                "f5bc0466.4add08"
            ]
        ]
    },
    {
        "id": "336eb5b9.98321a",
        "type": "inject",
        "z": "1f20be62.7d5022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 130,
        "y": 220,
        "wires": [
            [
                "f5bc0466.4add08"
            ]
        ]
    },
    {
        "id": "1794008b.28b67f",
        "type": "inject",
        "z": "1f20be62.7d5022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "4067b8f9.5b96e8"
            ]
        ]
    },
    {
        "id": "8317830f.fa77",
        "type": "inject",
        "z": "1f20be62.7d5022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "4067b8f9.5b96e8"
            ]
        ]
    },
    {
        "id": "d6152285.57c1a",
        "type": "http response",
        "z": "1f20be62.7d5022",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 920,
        "y": 340,
        "wires": []
    },
    {
        "id": "20e60cec.a82994",
        "type": "mqtt out",
        "z": "1f20be62.7d5022",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "953d9f0a.fef86",
        "x": 690,
        "y": 460,
        "wires": []
    },
    {
        "id": "33affec.901ae02",
        "type": "inject",
        "z": "1f20be62.7d5022",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "cmnd/tasmota_aqua/POWER",
        "payload": "ON",
        "payloadType": "str",
        "x": 430,
        "y": 460,
        "wires": [
            [
                "20e60cec.a82994"
            ]
        ]
    },
    {
        "id": "e67beb8b.6796d8",
        "type": "inject",
        "z": "1f20be62.7d5022",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "cmnd/tasmota_aqua/POWER",
        "payload": "OFF",
        "payloadType": "str",
        "x": 440,
        "y": 520,
        "wires": [
            [
                "20e60cec.a82994"
            ]
        ]
    },
    {
        "id": "effd1bff.d339d8",
        "type": "sun-position",
        "z": "1f20be62.7d5022",
        "name": "",
        "positionConfig": "ca14d1e.342ce3",
        "rules": [],
        "onlyOnChange": "true",
        "topic": "",
        "outputs": 1,
        "start": "",
        "startType": "none",
        "startOffset": 0,
        "startOffsetType": "none",
        "startOffsetMultiplier": 60000,
        "end": "",
        "endType": "none",
        "endOffset": 0,
        "endOffsetType": "none",
        "endOffsetMultiplier": 60000,
        "x": 410,
        "y": 840,
        "wires": [
            [
                "e82f7d66.4b294"
            ]
        ]
    },
    {
        "id": "5be54d2d.ef6734",
        "type": "moon-position",
        "z": "1f20be62.7d5022",
        "name": "",
        "positionConfig": "ca14d1e.342ce3",
        "rules": [],
        "onlyOnChange": "true",
        "topic": "",
        "outputs": 1,
        "x": 420,
        "y": 900,
        "wires": [
            [
                "7b711878.d31328"
            ]
        ]
    },
    {
        "id": "845110c4.cfc35",
        "type": "schedex",
        "z": "1f20be62.7d5022",
        "name": "Sonne",
        "passthroughunhandled": false,
        "suspended": false,
        "lat": "52.61449",
        "lon": "13.24501",
        "ontime": "22:19",
        "ontopic": "",
        "onpayload": "1",
        "onoffset": "",
        "onrandomoffset": 0,
        "offtime": "22:20",
        "offtopic": "",
        "offpayload": "0",
        "offoffset": "",
        "offrandomoffset": 0,
        "mon": true,
        "tue": true,
        "wed": true,
        "thu": true,
        "fri": true,
        "sat": true,
        "sun": true,
        "x": 230,
        "y": 780,
        "wires": [
            [
                "9b46183f.ae3538"
            ]
        ]
    },
    {
        "id": "c9965de2.d19a8",
        "type": "dynamic-dimmer",
        "z": "1f20be62.7d5022",
        "name": "",
        "eventInterval": "1000",
        "steps": "10",
        "minValue": 0,
        "maxValue": 100,
        "x": 340,
        "y": 280,
        "wires": [
            [
                "7401f69f.fb45c8",
                "ee4d71b.38ee39"
            ]
        ]
    },
    {
        "id": "f5bc0466.4add08",
        "type": "dynamic-dimmer",
        "z": "1f20be62.7d5022",
        "name": "",
        "eventInterval": "1000",
        "steps": "5",
        "minValue": 0,
        "maxValue": 100,
        "x": 340,
        "y": 220,
        "wires": [
            [
                "ee4d71b.38ee39",
                "7401f69f.fb45c8"
            ]
        ]
    },
    {
        "id": "4067b8f9.5b96e8",
        "type": "dynamic-dimmer",
        "z": "1f20be62.7d5022",
        "name": "",
        "eventInterval": "250",
        "steps": "50",
        "minValue": 0,
        "maxValue": 100,
        "x": 340,
        "y": 100,
        "wires": [
            [
                "ee4d71b.38ee39",
                "7401f69f.fb45c8"
            ]
        ]
    },
    {
        "id": "9b46183f.ae3538",
        "type": "convert",
        "z": "1f20be62.7d5022",
        "name": "",
        "convertTo": "number",
        "x": 430,
        "y": 780,
        "wires": [
            [
                "c9965de2.d19a8",
                "f44ff81a.e76488"
            ]
        ]
    },
    {
        "id": "b18fc9f7.558e18",
        "type": "mqtt out",
        "z": "a0401077.5c319",
        "name": "",
        "topic": "corona/osl",
        "qos": "1",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 790,
        "y": 260,
        "wires": []
    },
    {
        "id": "548f93cb.ddbb6c",
        "type": "mqtt out",
        "z": "a0401077.5c319",
        "name": "",
        "topic": "corona/berlin",
        "qos": "1",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 750,
        "y": 460,
        "wires": []
    },
    {
        "id": "15be1be2.66a874",
        "type": "ioBroker get",
        "z": "a0401077.5c319",
        "name": "OSL, Fälle der letzten 7 Tage pro 100k Einwohner",
        "topic": "coronavirus-statistics.0.Germany.Kreis.Oberspreewald-Lausitz.cases7_per_100k",
        "attrname": "payload",
        "payloadType": "value",
        "x": 410,
        "y": 360,
        "wires": [
            [
                "b18fc9f7.558e18",
                "9c0b42ba.72fae",
                "832bc543.71f768"
            ]
        ]
    },
    {
        "id": "3c6dd0fb.7c82c",
        "type": "ioBroker get",
        "z": "a0401077.5c319",
        "name": "Berlin, Fälle der letzten 7 Tage pro 100k Einwohner",
        "topic": "coronavirus-statistics.0.Germany.Bundesland.Berlin.cases7_per_100k",
        "attrname": "payload",
        "payloadType": "value",
        "x": 410,
        "y": 420,
        "wires": [
            [
                "548f93cb.ddbb6c",
                "3b9bdff8.b0896",
                "c0261235.921aa"
            ]
        ]
    },
    {
        "id": "fc7a11ab.57229",
        "type": "inject",
        "z": "a0401077.5c319",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 420,
        "wires": [
            [
                "15be1be2.66a874",
                "3c6dd0fb.7c82c",
                "c10c0c02.764eb"
            ]
        ]
    },
    {
        "id": "c10c0c02.764eb",
        "type": "ioBroker get",
        "z": "a0401077.5c319",
        "name": "Brandenburg, Fälle der letzten 7 Tage pro 100k Einwohner",
        "topic": "coronavirus-statistics.0.Germany.Bundesland.Brandenburg.cases7_per_100k",
        "attrname": "payload",
        "payloadType": "value",
        "x": 370,
        "y": 500,
        "wires": [
            [
                "b034291a.d42048",
                "a900061d.789118",
                "cba4b511.86e2e8"
            ]
        ]
    },
    {
        "id": "b034291a.d42048",
        "type": "mqtt out",
        "z": "a0401077.5c319",
        "name": "",
        "topic": "corona/brandenburg",
        "qos": "1",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 720,
        "y": 620,
        "wires": []
    },
    {
        "id": "9c0b42ba.72fae",
        "type": "debug",
        "z": "a0401077.5c319",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 220,
        "wires": []
    },
    {
        "id": "3b9bdff8.b0896",
        "type": "debug",
        "z": "a0401077.5c319",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 420,
        "wires": []
    },
    {
        "id": "a900061d.789118",
        "type": "debug",
        "z": "a0401077.5c319",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 560,
        "wires": []
    },
    {
        "id": "572a930.cd0096c",
        "type": "ui_gauge",
        "z": "a0401077.5c319",
        "name": "OSL",
        "group": "8ed04b92.083be8",
        "order": 7,
        "width": "2",
        "height": "2",
        "gtype": "gage",
        "title": "OSL",
        "label": "",
        "format": "{{value}}",
        "min": 0,
        "max": "3000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 990,
        "y": 160,
        "wires": []
    },
    {
        "id": "7bf5dfaf.92576",
        "type": "ui_gauge",
        "z": "a0401077.5c319",
        "name": "Berlin",
        "group": "8ed04b92.083be8",
        "order": 6,
        "width": "2",
        "height": "2",
        "gtype": "gage",
        "title": "Berlin",
        "label": "",
        "format": "{{value}}",
        "min": 0,
        "max": "3000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 990,
        "y": 380,
        "wires": []
    },
    {
        "id": "59a49a4e.ee0284",
        "type": "ui_gauge",
        "z": "a0401077.5c319",
        "name": "Brandenburg",
        "group": "8ed04b92.083be8",
        "order": 8,
        "width": "2",
        "height": "2",
        "gtype": "gage",
        "title": "Brb",
        "label": "",
        "format": "{{value}}",
        "min": 0,
        "max": "3000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 930,
        "y": 520,
        "wires": []
    },
    {
        "id": "832bc543.71f768",
        "type": "calculator",
        "z": "a0401077.5c319",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "round",
        "constant": "",
        "round": true,
        "decimals": "2",
        "x": 780,
        "y": 160,
        "wires": [
            [
                "572a930.cd0096c"
            ]
        ]
    },
    {
        "id": "c0261235.921aa",
        "type": "calculator",
        "z": "a0401077.5c319",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "round",
        "constant": "",
        "round": true,
        "decimals": "2",
        "x": 760,
        "y": 380,
        "wires": [
            [
                "7bf5dfaf.92576"
            ]
        ]
    },
    {
        "id": "cba4b511.86e2e8",
        "type": "calculator",
        "z": "a0401077.5c319",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "round",
        "constant": "",
        "round": true,
        "decimals": "2",
        "x": 700,
        "y": 520,
        "wires": [
            [
                "59a49a4e.ee0284"
            ]
        ]
    },
    {
        "id": "8d0a35f8.d74668",
        "type": "inject",
        "z": "cdd110e5.95f1c",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 80,
        "wires": [
            [
                "ada61121.8280e"
            ]
        ]
    },
    {
        "id": "ada61121.8280e",
        "type": "ioBroker get",
        "z": "cdd110e5.95f1c",
        "name": "tele/tasmotaKraftwerk/SENSOR",
        "topic": "mqtt.0.tele.tasmotaKraftwerk.SENSOR",
        "attrname": "strom",
        "payloadType": "value",
        "x": 350,
        "y": 120,
        "wires": [
            [
                "73fb64a7.3aa49c"
            ]
        ]
    },
    {
        "id": "73fb64a7.3aa49c",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "",
        "func": "msg.payload = msg.strom;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 120,
        "y": 220,
        "wires": [
            [
                "cdec9827.951888"
            ]
        ]
    },
    {
        "id": "cdec9827.951888",
        "type": "json",
        "z": "cdd110e5.95f1c",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 250,
        "y": 220,
        "wires": [
            [
                "843a4c74.d7a54",
                "442db21c.b2574c",
                "f6a28c44.16667"
            ]
        ]
    },
    {
        "id": "843a4c74.d7a54",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "kWh",
        "func": "msg.payload = msg.payload.Strom.Total_in;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 220,
        "wires": [
            [
                "d1ffd823.fe8cc8"
            ]
        ]
    },
    {
        "id": "442db21c.b2574c",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "Watt",
        "func": "msg.payload = Number(msg.payload.Strom.Power_curr);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 260,
        "wires": [
            [
                "a67ae667.ab1218",
                "8b67d0e6.32886"
            ]
        ]
    },
    {
        "id": "d1ffd823.fe8cc8",
        "type": "ui_text",
        "z": "cdd110e5.95f1c",
        "group": "abb88fd4.ec728",
        "order": 1,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Zählerstand:",
        "format": "{{msg.payload}} kWh",
        "layout": "row-spread",
        "className": "",
        "x": 630,
        "y": 220,
        "wires": []
    },
    {
        "id": "a67ae667.ab1218",
        "type": "ui_gauge",
        "z": "cdd110e5.95f1c",
        "name": "",
        "group": "abb88fd4.ec728",
        "order": 2,
        "width": "6",
        "height": "5",
        "gtype": "gage",
        "title": "aktueller Verbrauch in Watt:",
        "label": "Watt",
        "format": "{{value}}",
        "min": 0,
        "max": "2000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 680,
        "y": 280,
        "wires": []
    },
    {
        "id": "5fc3b251.2dac3c",
        "type": "ui_text",
        "z": "cdd110e5.95f1c",
        "group": "abb88fd4.ec728",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "akt. 24 Stunden Verbrauch:",
        "format": "{{msg.payload}} kWh",
        "layout": "col-center",
        "className": "",
        "x": 1060,
        "y": 360,
        "wires": []
    },
    {
        "id": "8b67d0e6.32886",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "runden auf 2 komma stellen",
        "func": "msg.payload = (Math.round((Number(msg.payload) / 1000) * 24 * 100)) / 100\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 740,
        "y": 360,
        "wires": [
            [
                "5fc3b251.2dac3c"
            ]
        ]
    },
    {
        "id": "f6a28c44.16667",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "",
        "func": "var time = msg.payload.Time;\nvar current = msg.payload.Strom.Power_curr;\nvar total = msg.payload.Strom.Total_in;\n\nmsg.payload=[time, total, current];\nmsg.topic=\"INSERT INTO Sensor (`Zeitpunkt`, `Total`, `Current`) VALUES (?, ?, ?);\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 400,
        "wires": [
            [
                "c7f3dd65.3fabb"
            ]
        ]
    },
    {
        "id": "1f8f50c5.74d61f",
        "type": "ui_chart",
        "z": "cdd110e5.95f1c",
        "name": "",
        "group": "abb88fd4.ec728",
        "order": 3,
        "width": "12",
        "height": "8",
        "label": "Momentanverbrauch",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 800,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "c58b3059.87a56",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "",
        "func": "//var time = msg.payload.Time;\n//var current = msg.payload.Strom.Power_curr;\n//var total = msg.payload.Strom.Total_in;\n\n//msg.payload=[time, total, current];\nmsg.topic=\"SELECT Zeitpunkt, Current, Total FROM Sensor ORDER BY Zeitpunkt DESC LIMIT 10000;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 480,
        "wires": [
            [
                "9cf1d793.157eb8"
            ]
        ]
    },
    {
        "id": "a608eaf8.73c5b8",
        "type": "inject",
        "z": "cdd110e5.95f1c",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 540,
        "wires": [
            [
                "c58b3059.87a56",
                "f86919b5.5c14b8",
                "4cb70a31.ee7204"
            ]
        ]
    },
    {
        "id": "c3dc5b40.fb83b8",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "",
        "func": "var data1 = [];\n//var mytime = [];\nmsg.payload.forEach(function(value) {\n    data1.push({ \"y\": value['Current'], \"x\": new Date(Date.parse(value['Zeitpunkt'])).addHours(1).getTime()});\n    //mytime.push(new Date(value['Zeitpunkt']));\n});\n\nmsg.payload = [{\n    series: [\"\"],\n    data: [data1.reverse()],\n    labels: [\"\"]\n}];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is deployed.\nDate.prototype.addHours = function(h) {\n  this.setTime(this.getTime() + (h*60*60*1000));\n  return this;\n}",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 480,
        "wires": [
            [
                "1f8f50c5.74d61f"
            ]
        ]
    },
    {
        "id": "8d4a07d1.afbf58",
        "type": "ui_chart",
        "z": "cdd110e5.95f1c",
        "name": "",
        "group": "abb88fd4.ec728",
        "order": 4,
        "width": "12",
        "height": "8",
        "label": "Zählerstand",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "3",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 810,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "af8931c2.8f0b4",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "",
        "func": "var data2 = [];\n//var mytime = [];\nmsg.payload.forEach(function(value) {\n    data2.push({\"y\": value['Total'], \"x\": new Date(value['Zeitpunkt']).addHours(1).getTime()});\n    //mytime.push(new Date(value['Zeitpunkt']));\n});\n\nmsg.payload = [{\n    series: \"\",\n    data: [data2.reverse()],\n    //labels: mytime\n}];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 540,
        "wires": [
            [
                "8d4a07d1.afbf58"
            ]
        ]
    },
    {
        "id": "f86919b5.5c14b8",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "",
        "func": "msg.topic=\"SELECT UNIX_TIMESTAMP(MIN(Zeitpunkt) - MOD(MIN(Zeitpunkt), 100))*1000 as Stunde, date_format( Zeitpunkt, '%Y-%m-%d %H' ) as DatumStunde, MIN(Total), MAX(Total), ROUND((MAX(Total) - Min(Total)), 2) as `KWHproStunde` FROM `Sensor` GROUP BY DATE_FORMAT(Zeitpunkt,'%Y-%m-%d %H') ORDER BY Stunde DESC LIMIT 24\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 640,
        "wires": [
            [
                "7a8abe43.96a76"
            ]
        ]
    },
    {
        "id": "55d97a05.1d19f4",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "",
        "func": "var data = [];\nvar label = [];\nmsg.payload.forEach(function(value) {\n    data.push(value['KWHproStunde']);\n    label.push(new Date(value['Stunde']).addHours(1));\n});\n\nmsg.payload = [{\n    series: [\"X\"],\n    data: [data.reverse()],\n    labels: label.reverse()\n}];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 640,
        "wires": [
            [
                "920d027f.e861"
            ]
        ]
    },
    {
        "id": "920d027f.e861",
        "type": "ui_chart",
        "z": "cdd110e5.95f1c",
        "name": "",
        "group": "abb88fd4.ec728",
        "order": 2,
        "width": "12",
        "height": "8",
        "label": "Verbrauch pro Stunde (letzten 24 Stunden)",
        "chartType": "bar",
        "legend": "false",
        "xformat": "ddd DD.MM - HH [Uhr]",
        "interpolate": "step",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": true,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 890,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "c7f3dd65.3fabb",
        "type": "mysql",
        "z": "cdd110e5.95f1c",
        "d": true,
        "mydb": "a9d5ba39.268648",
        "name": "",
        "x": 330,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "9cf1d793.157eb8",
        "type": "mysql",
        "z": "cdd110e5.95f1c",
        "d": true,
        "mydb": "a9d5ba39.268648",
        "name": "",
        "x": 330,
        "y": 480,
        "wires": [
            [
                "c3dc5b40.fb83b8",
                "af8931c2.8f0b4"
            ]
        ]
    },
    {
        "id": "7a8abe43.96a76",
        "type": "mysql",
        "z": "cdd110e5.95f1c",
        "d": true,
        "mydb": "a9d5ba39.268648",
        "name": "",
        "x": 330,
        "y": 640,
        "wires": [
            [
                "55d97a05.1d19f4"
            ]
        ]
    },
    {
        "id": "4cb70a31.ee7204",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "",
        "func": "msg.topic=\n\"\\\nSELECT \\\n    FROM_UNIXTIME((UNIX_TIMESTAMP(`Zeitpunkt`) DIV (60 * 60 * 24)) * (60 * 60 * 24)) Stunde, \\\n    ROUND(AVG(Current), 2) AS CurrentAVG, \\\n    /*ROUND(MIN(Total), 2), \\\n    ROUND(MAX(Total), 2),*/ \\\n    ROUND((MAX(Total) - MIN(Total)), 2) AS `KWHproStunde` \\\nFROM \\\n    Sensor \\\nGROUP BY UNIX_TIMESTAMP(`Zeitpunkt`) DIV (60 * 60 * 24) \\\nORDER BY Stunde DESC \\\nLIMIT 14 \\\n\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 820,
        "wires": [
            [
                "3122f294.0a0fce"
            ]
        ]
    },
    {
        "id": "3122f294.0a0fce",
        "type": "mysql",
        "z": "cdd110e5.95f1c",
        "d": true,
        "mydb": "a9d5ba39.268648",
        "name": "",
        "x": 330,
        "y": 820,
        "wires": [
            [
                "feb17394.38fdd"
            ]
        ]
    },
    {
        "id": "5884cf1.358cd3",
        "type": "ui_chart",
        "z": "cdd110e5.95f1c",
        "name": "",
        "group": "abb88fd4.ec728",
        "order": 1,
        "width": "12",
        "height": "8",
        "label": "Verbrauch pro Tag (letzten 14 Tage)",
        "chartType": "bar",
        "legend": "false",
        "xformat": "ddd DD.MM - HH [Uhr]",
        "interpolate": "step",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": true,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 820,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "feb17394.38fdd",
        "type": "function",
        "z": "cdd110e5.95f1c",
        "name": "",
        "func": "var data = [];\nvar label = [];\nmsg.payload.forEach(function(value) {\n    data.push(value['KWHproStunde']);\n    label.push(new Date(Date.parse(value['Stunde'])).addHours(2));\n});\n\nmsg.payload = [{\n    series: [\"X\"],\n    data: [data.reverse()],\n    labels: label.reverse()\n}];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 820,
        "wires": [
            [
                "5884cf1.358cd3"
            ]
        ]
    },
    {
        "id": "cd1cbf7a.470d1",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "skipToNext",
        "x": 370,
        "y": 120,
        "wires": [
            [
                "5ac44f6d.a726e",
                "bcdc9194fe1fde15",
                "dbf0968b0dac7574",
                "991e6a040ec452ab",
                "858733a040473630",
                "fae659cf47156305"
            ]
        ]
    },
    {
        "id": "93c44577.a69178",
        "type": "inject",
        "z": "9ea7c782.2684f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 120,
        "wires": [
            [
                "cd1cbf7a.470d1"
            ]
        ]
    },
    {
        "id": "18ba328d.ad155d",
        "type": "inject",
        "z": "9ea7c782.2684f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 240,
        "wires": [
            [
                "4ed9e98c.00dda8"
            ]
        ]
    },
    {
        "id": "4ed9e98c.00dda8",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "skipToPrevious",
        "x": 380,
        "y": 160,
        "wires": [
            [
                "5ac44f6d.a726e",
                "dbf0968b0dac7574",
                "bcdc9194fe1fde15",
                "991e6a040ec452ab",
                "858733a040473630",
                "fae659cf47156305"
            ]
        ]
    },
    {
        "id": "64ccf865.f94388",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "pause",
        "x": 510,
        "y": 440,
        "wires": [
            [
                "5ac44f6d.a726e"
            ]
        ]
    },
    {
        "id": "a202b710.8d6518",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "play",
        "x": 510,
        "y": 480,
        "wires": [
            [
                "5ac44f6d.a726e"
            ]
        ]
    },
    {
        "id": "20cd0fcc.e57ad",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "name": "",
        "group": "8ed04b92.083be8",
        "order": 29,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "icon": "skip_next",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 130,
        "y": 80,
        "wires": [
            [
                "cd1cbf7a.470d1"
            ]
        ]
    },
    {
        "id": "d69ca4a8.d01d88",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "name": "",
        "group": "8ed04b92.083be8",
        "order": 24,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "icon": "skip_previous",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 130,
        "y": 200,
        "wires": [
            [
                "4ed9e98c.00dda8"
            ]
        ]
    },
    {
        "id": "cb01a47a.d5e658",
        "type": "ui_text",
        "z": "9ea7c782.2684f8",
        "group": "8ed04b92.083be8",
        "order": 21,
        "width": "8",
        "height": "1",
        "name": "",
        "label": "Spotify",
        "format": "",
        "layout": "col-center",
        "className": "",
        "x": 330,
        "y": 60,
        "wires": []
    },
    {
        "id": "935982a.47f668",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "name": "",
        "group": "8ed04b92.083be8",
        "order": 28,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Pause",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 310,
        "y": 320,
        "wires": [
            [
                "64ccf865.f94388"
            ]
        ]
    },
    {
        "id": "95071eae.d180a",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "name": "",
        "group": "8ed04b92.083be8",
        "order": 27,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Play",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 170,
        "y": 420,
        "wires": [
            [
                "a202b710.8d6518"
            ]
        ]
    },
    {
        "id": "b869d048.fdc81",
        "type": "http in",
        "z": "9ea7c782.2684f8",
        "name": "",
        "url": "/spotify/next",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 40,
        "wires": [
            [
                "cd1cbf7a.470d1"
            ]
        ]
    },
    {
        "id": "69c12689.f63cb8",
        "type": "http in",
        "z": "9ea7c782.2684f8",
        "name": "",
        "url": "/spotify/back",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 160,
        "wires": [
            [
                "4ed9e98c.00dda8"
            ]
        ]
    },
    {
        "id": "46a8df2e.b9d96",
        "type": "http in",
        "z": "9ea7c782.2684f8",
        "name": "",
        "url": "/spotify/play",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 480,
        "wires": [
            [
                "a202b710.8d6518"
            ]
        ]
    },
    {
        "id": "77564ab1.07f314",
        "type": "http in",
        "z": "9ea7c782.2684f8",
        "name": "",
        "url": "/spotify/pause",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 280,
        "y": 280,
        "wires": [
            [
                "64ccf865.f94388"
            ]
        ]
    },
    {
        "id": "fc2815e5.4acd78",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "transferMyPlayback",
        "x": 930,
        "y": 400,
        "wires": [
            [
                "143b8f84.e181e"
            ]
        ]
    },
    {
        "id": "56f69da9.d0c8c4",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['c994263838bc29bc7280d933d1f3d2b865407803'], { play: true } ];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 400,
        "wires": [
            [
                "fc2815e5.4acd78"
            ]
        ]
    },
    {
        "id": "8337a654.4fbf18",
        "type": "inject",
        "z": "9ea7c782.2684f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 560,
        "y": 400,
        "wires": [
            [
                "56f69da9.d0c8c4"
            ]
        ]
    },
    {
        "id": "143b8f84.e181e",
        "type": "debug",
        "z": "9ea7c782.2684f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1120,
        "y": 400,
        "wires": []
    },
    {
        "id": "d7a7d010.8bfdd",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "d": true,
        "name": "",
        "group": "8ed04b92.083be8",
        "order": 35,
        "width": 8,
        "height": 1,
        "passthru": false,
        "label": "Spiele im Keller",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 540,
        "y": 340,
        "wires": [
            [
                "56f69da9.d0c8c4"
            ]
        ]
    },
    {
        "id": "77b672d8.00e61c",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "d": true,
        "name": "",
        "group": "8ed04b92.083be8",
        "order": 36,
        "width": 8,
        "height": 1,
        "passthru": false,
        "label": "Spiele auf iPhone",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 530,
        "y": 300,
        "wires": [
            [
                "eb505496.97fc28"
            ]
        ]
    },
    {
        "id": "eb505496.97fc28",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['aa156c79d4e5f6a36c8a8b66b75b2676abc85214'], { play: true } ];\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 240,
        "wires": [
            [
                "fc2815e5.4acd78"
            ]
        ]
    },
    {
        "id": "101e216.057f9df",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getMyCurrentPlayingTrack",
        "x": 560,
        "y": 740,
        "wires": [
            [
                "58327e99.35d99",
                "e8a5dee2.1b378",
                "f2e7e368.cf411",
                "92baf09a.5ebb7",
                "18ee770d.5d2899",
                "70ff2098.ba39f",
                "dbcc0ba397c0ad0a"
            ]
        ]
    },
    {
        "id": "9845d8a6.299008",
        "type": "inject",
        "z": "9ea7c782.2684f8",
        "name": "1s/1s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "*/1 6-17 * * 1,2,3,4,5",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 90,
        "y": 880,
        "wires": [
            [
                "5ac44f6d.a726e"
            ]
        ]
    },
    {
        "id": "58327e99.35d99",
        "type": "change",
        "z": "9ea7c782.2684f8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.item.name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "c196022b.67e31",
        "type": "ui_switch",
        "z": "9ea7c782.2684f8",
        "name": "Play/Pause",
        "label": "",
        "tooltip": "",
        "group": "8ed04b92.083be8",
        "order": 22,
        "width": 1,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "play_circle_outline",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "pause_circle_outline",
        "offcolor": "red",
        "animate": true,
        "className": "",
        "x": 1110,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "e8a5dee2.1b378",
        "type": "change",
        "z": "9ea7c782.2684f8",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.is_playing",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 860,
        "wires": [
            [
                "c196022b.67e31"
            ]
        ]
    },
    {
        "id": "b07efb32.e9e7b8",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getTrack",
        "x": 1060,
        "y": 1020,
        "wires": [
            [
                "90e2c12a.693b9"
            ]
        ]
    },
    {
        "id": "f6f82f5c.4f556",
        "type": "rbe",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "x": 1090,
        "y": 920,
        "wires": [
            [
                "c6ac53b3.5d762"
            ]
        ]
    },
    {
        "id": "f2e7e368.cf411",
        "type": "change",
        "z": "9ea7c782.2684f8",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.progress_ms",
                "pt": "msg",
                "to": "progress",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 1060,
        "wires": [
            [
                "7d03a1d.681be6"
            ]
        ]
    },
    {
        "id": "90e2c12a.693b9",
        "type": "change",
        "z": "9ea7c782.2684f8",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.duration_ms",
                "pt": "msg",
                "to": "duration",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 1120,
        "wires": [
            [
                "7d03a1d.681be6"
            ]
        ]
    },
    {
        "id": "990509f6.673018",
        "type": "ui_slider",
        "z": "9ea7c782.2684f8",
        "name": "Slider",
        "label": "",
        "tooltip": "",
        "group": "8ed04b92.083be8",
        "order": 26,
        "width": 8,
        "height": 1,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "topicType": "str",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 1150,
        "y": 1100,
        "wires": [
            [
                "36f70715f8db720b",
                "d4429f539318dfbf"
            ]
        ]
    },
    {
        "id": "7d03a1d.681be6",
        "type": "change",
        "z": "9ea7c782.2684f8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ui_control",
                "pt": "msg",
                "to": "{\"min\":1,\"max\":$.duration}",
                "tot": "jsonata"
            },
            {
                "t": "move",
                "p": "progress",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 1100,
        "wires": [
            [
                "990509f6.673018"
            ]
        ]
    },
    {
        "id": "18ee770d.5d2899",
        "type": "change",
        "z": "9ea7c782.2684f8",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.item.id",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 920,
        "wires": [
            [
                "f6f82f5c.4f556"
            ]
        ]
    },
    {
        "id": "c6ac53b3.5d762",
        "type": "change",
        "z": "9ea7c782.2684f8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "[payload]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 1000,
        "wires": [
            [
                "b07efb32.e9e7b8"
            ]
        ]
    },
    {
        "id": "92baf09a.5ebb7",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "if(msg.payload.item != undefined)\n{\n    name = msg.payload.item.artists[0].name + ' - ' + msg.payload.item.name\n    newmsg = { payload: name }\n    return newmsg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 660,
        "wires": [
            [
                "7efe3c56.526c64"
            ]
        ]
    },
    {
        "id": "7efe3c56.526c64",
        "type": "ui_text",
        "z": "9ea7c782.2684f8",
        "group": "8ed04b92.083be8",
        "order": 25,
        "width": "8",
        "height": "1",
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1010,
        "y": 660,
        "wires": []
    },
    {
        "id": "5ac44f6d.a726e",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getMyCurrentPlaybackState",
        "x": 400,
        "y": 880,
        "wires": [
            [
                "fa96d858.b5d168"
            ]
        ]
    },
    {
        "id": "7ad3b188.fcc4a",
        "type": "msg-resend",
        "z": "9ea7c782.2684f8",
        "interval": "1",
        "intervalUnit": "secs",
        "maximum": "0",
        "bytopic": false,
        "clone": true,
        "firstDelayed": false,
        "addCounters": false,
        "waitForResend": false,
        "highRate": false,
        "outputCountField": "",
        "outputMaxField": "",
        "name": "",
        "x": 130,
        "y": 600,
        "wires": [
            [
                "168ef12d.51928f"
            ]
        ]
    },
    {
        "id": "fa96d858.b5d168",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "return { payload: msg.payload.is_playing }",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 780,
        "wires": [
            [
                "7a2c79f5.5873f8"
            ]
        ]
    },
    {
        "id": "7a2c79f5.5873f8",
        "type": "switch",
        "z": "9ea7c782.2684f8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "jsonata"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 720,
        "wires": [
            [
                "7ad3b188.fcc4a"
            ],
            [
                "7ad3b188.fcc4a"
            ]
        ]
    },
    {
        "id": "168ef12d.51928f",
        "type": "while-loop",
        "z": "9ea7c782.2684f8",
        "name": "",
        "condi": "msg.payload == true",
        "limit": false,
        "limitTime": 10000,
        "time": "wlf6f056e24628a8",
        "timeType": "msg",
        "x": 380,
        "y": 600,
        "wires": [
            [],
            [
                "101e216.057f9df"
            ]
        ]
    },
    {
        "id": "cd62c343.b398d",
        "type": "inject",
        "z": "9ea7c782.2684f8",
        "name": "Reset",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 720,
        "wires": [
            [
                "7ad3b188.fcc4a"
            ]
        ]
    },
    {
        "id": "d4e0295.ec82dd8",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "addToMySavedTracks",
        "x": 1240,
        "y": 580,
        "wires": [
            [
                "42f4433e9614b538"
            ]
        ]
    },
    {
        "id": "e07fb81c.56eb98",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getMyCurrentPlayingTrack",
        "x": 780,
        "y": 580,
        "wires": [
            [
                "38ca002c.27453"
            ]
        ]
    },
    {
        "id": "26c505da.b9eaea",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "name": "Like",
        "group": "8ed04b92.083be8",
        "order": 30,
        "width": "4",
        "height": 1,
        "passthru": false,
        "label": "Like",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 570,
        "y": 600,
        "wires": [
            [
                "e07fb81c.56eb98"
            ]
        ]
    },
    {
        "id": "38ca002c.27453",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [[msg.payload.item.id]];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 580,
        "wires": [
            [
                "d4e0295.ec82dd8"
            ]
        ]
    },
    {
        "id": "4237bfab.2b0ff",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "containsMySavedTracks",
        "x": 1090,
        "y": 800,
        "wires": [
            [
                "5982fdc6.2dd924"
            ]
        ]
    },
    {
        "id": "70ff2098.ba39f",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [[msg.payload.item.id] ];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 720,
        "wires": [
            [
                "4237bfab.2b0ff"
            ]
        ]
    },
    {
        "id": "2c838824.c3c078",
        "type": "ui_switch",
        "z": "9ea7c782.2684f8",
        "name": "Like",
        "label": "",
        "tooltip": "",
        "group": "8ed04b92.083be8",
        "order": 23,
        "width": 1,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "thumb_up",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "thumb_down",
        "offcolor": "red",
        "animate": false,
        "className": "",
        "x": 1450,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "5982fdc6.2dd924",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "return { payload: msg.payload[0] }",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 800,
        "wires": [
            [
                "2c838824.c3c078"
            ]
        ]
    },
    {
        "id": "688c4b73.e929f4",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "removeFromMySavedTracks",
        "x": 1220,
        "y": 620,
        "wires": [
            [
                "42f4433e9614b538"
            ]
        ]
    },
    {
        "id": "ed2ab14.d6ff65",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "name": "Dislike",
        "group": "8ed04b92.083be8",
        "order": 31,
        "width": "4",
        "height": 1,
        "passthru": false,
        "label": "Dislike",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 570,
        "y": 640,
        "wires": [
            [
                "9718137b.57505"
            ]
        ]
    },
    {
        "id": "9718137b.57505",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getMyCurrentPlayingTrack",
        "x": 780,
        "y": 620,
        "wires": [
            [
                "db215e01.4bb37"
            ]
        ]
    },
    {
        "id": "db215e01.4bb37",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [[msg.payload.item.id]];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 620,
        "wires": [
            [
                "688c4b73.e929f4"
            ]
        ]
    },
    {
        "id": "e54b14bec33992cf",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "removeTracksFromPlaylist",
        "x": 1400,
        "y": 500,
        "wires": [
            [
                "12c80d11e2fb717e",
                "bcdc9194fe1fde15",
                "dbf0968b0dac7574",
                "991e6a040ec452ab",
                "858733a040473630",
                "fae659cf47156305"
            ]
        ]
    },
    {
        "id": "45a1a1c1804c42b0",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "addTracksToPlaylist",
        "x": 1420,
        "y": 460,
        "wires": [
            [
                "12c80d11e2fb717e",
                "bcdc9194fe1fde15",
                "dbf0968b0dac7574",
                "991e6a040ec452ab",
                "858733a040473630",
                "fae659cf47156305"
            ]
        ]
    },
    {
        "id": "427b068b1e818478",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "name": "Best +",
        "group": "8ed04b92.083be8",
        "order": 32,
        "width": "3",
        "height": 1,
        "passthru": false,
        "label": "Best +",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 790,
        "y": 460,
        "wires": [
            [
                "e5804d75bdf2da45"
            ]
        ]
    },
    {
        "id": "2e2d3cc723e4a5fb",
        "type": "ui_button",
        "z": "9ea7c782.2684f8",
        "name": "Best -",
        "group": "8ed04b92.083be8",
        "order": 34,
        "width": "3",
        "height": 1,
        "passthru": false,
        "label": "Best -",
        "tooltip": "",
        "color": "",
        "bgcolor": "#00AA00",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 790,
        "y": 500,
        "wires": [
            [
                "dd3ce458e1a2e418"
            ]
        ]
    },
    {
        "id": "e5804d75bdf2da45",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getMyCurrentPlayingTrack",
        "x": 980,
        "y": 460,
        "wires": [
            [
                "c9f6ce6cb7f17b07"
            ]
        ]
    },
    {
        "id": "dd3ce458e1a2e418",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getMyCurrentPlayingTrack",
        "x": 980,
        "y": 500,
        "wires": [
            [
                "0e9945bc58070c4c"
            ]
        ]
    },
    {
        "id": "c9f6ce6cb7f17b07",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = ['2vmZwch89WYD7xLZWlHMov', ['spotify:track:' + msg.payload.item.id]];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 460,
        "wires": [
            [
                "45a1a1c1804c42b0"
            ]
        ]
    },
    {
        "id": "0e9945bc58070c4c",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = ['2vmZwch89WYD7xLZWlHMov', [{uri : \"spotify:track:\" + msg.payload.item.id}]];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 500,
        "wires": [
            [
                "e54b14bec33992cf"
            ]
        ]
    },
    {
        "id": "12c80d11e2fb717e",
        "type": "debug",
        "z": "9ea7c782.2684f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1650,
        "y": 480,
        "wires": []
    },
    {
        "id": "239cd9e8b125314a",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1830,
        "y": 900,
        "wires": [
            [
                "f3c77916fc78336f"
            ]
        ]
    },
    {
        "id": "bcdc9194fe1fde15",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 0 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1640,
        "y": 900,
        "wires": [
            [
                "239cd9e8b125314a"
            ]
        ]
    },
    {
        "id": "0d717cb5d911b977",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "var found = false;\nmsg.payload.forEach(MyFunc);\n\nmsg.payload = found;\nreturn msg;\n\nfunction MyFunc(item)\n{\n    var currentId = global.get(\"state\").AktuellerSong.value;\n    if(currentId == item.track.id)\n        found = true;\n}\n\n/*\nvar arr = [];\n\nfor (i = 0; i < msg.payload.items.length; i++) {\n    arr.push(i);\n}\n\nmsg.payload = msg.payload.items.map(MyMap);\n//msg.payload = global.get(\"state\").CurrentTrack.value;\nreturn msg;\n\n\nfunction MyMap(item)\n{\n    var currentId = global.get(\"state\").CurrentTrack.value;\n    if(currentId == item.track.id)\n        return true\n    else\n        return false\n        //return item.track.id + \" \" + currentId;\n}\n*/",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 920,
        "wires": [
            [
                "d2983fd81289dedf",
                "f017368bd15eb4b8"
            ]
        ]
    },
    {
        "id": "dbcc0ba397c0ad0a",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "//msg.params = [[msg.payload.item.id]];\nmsg.payload = msg.payload.item.id;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 660,
        "wires": [
            [
                "fc009b3b4c63c788"
            ]
        ]
    },
    {
        "id": "fc009b3b4c63c788",
        "type": "set-shared-state",
        "z": "9ea7c782.2684f8",
        "state": "3bfb825a40d7cd2a",
        "name": "CurrentTrack",
        "triggerOnInit": true,
        "triggerOnChange": true,
        "provideOutput": true,
        "outputs": 1,
        "x": 1410,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "d2983fd81289dedf",
        "type": "ui_switch",
        "z": "9ea7c782.2684f8",
        "name": "IsInBest",
        "label": "",
        "tooltip": "",
        "group": "8ed04b92.083be8",
        "order": 33,
        "width": "2",
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "thumb_up",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "thumb_down",
        "offcolor": "red",
        "animate": false,
        "className": "",
        "x": 2540,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "d812e6fb5871e0f9",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1830,
        "y": 940,
        "wires": [
            [
                "f3c77916fc78336f"
            ]
        ]
    },
    {
        "id": "dbf0968b0dac7574",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 100 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1640,
        "y": 940,
        "wires": [
            [
                "d812e6fb5871e0f9"
            ]
        ]
    },
    {
        "id": "dad835726f813267",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "var X = msg.payload[0].payload.items.concat(msg.payload[1].payload.items);\nX = X.concat(msg.payload[2].payload.items);\nX = X.concat(msg.payload[3].payload.items);\n\nmsg.payload = X;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2220,
        "y": 920,
        "wires": [
            [
                "0d717cb5d911b977"
            ]
        ]
    },
    {
        "id": "36f70715f8db720b",
        "type": "delay",
        "z": "9ea7c782.2684f8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1340,
        "y": 1100,
        "wires": [
            [
                "c1587dab9364d0b8"
            ]
        ]
    },
    {
        "id": "f395e2e40972c22a",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1830,
        "y": 980,
        "wires": [
            [
                "f3c77916fc78336f"
            ]
        ]
    },
    {
        "id": "991e6a040ec452ab",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 200 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1640,
        "y": 980,
        "wires": [
            [
                "f395e2e40972c22a"
            ]
        ]
    },
    {
        "id": "858733a040473630",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 300 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1640,
        "y": 1020,
        "wires": [
            [
                "8459445741613d92"
            ]
        ]
    },
    {
        "id": "8459445741613d92",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1830,
        "y": 1020,
        "wires": [
            [
                "f3c77916fc78336f"
            ]
        ]
    },
    {
        "id": "fae659cf47156305",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 400 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1640,
        "y": 1060,
        "wires": [
            [
                "8e031d1a1deb27e6"
            ]
        ]
    },
    {
        "id": "8e031d1a1deb27e6",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1830,
        "y": 1060,
        "wires": [
            [
                "f3c77916fc78336f"
            ]
        ]
    },
    {
        "id": "42f4433e9614b538",
        "type": "debug",
        "z": "9ea7c782.2684f8",
        "d": true,
        "name": "debug 4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1440,
        "y": 600,
        "wires": []
    },
    {
        "id": "badef735a3104dff",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getMyCurrentPlayingTrack",
        "x": 920,
        "y": 1280,
        "wires": [
            [
                "d02d538dd1471b46"
            ]
        ]
    },
    {
        "id": "68ea9c16f5999a28",
        "type": "set-shared-state",
        "z": "9ea7c782.2684f8",
        "state": "df57270a5572f079",
        "name": "AktuellerSong",
        "triggerOnInit": true,
        "triggerOnChange": true,
        "provideOutput": false,
        "outputs": 0,
        "x": 1320,
        "y": 1380,
        "wires": []
    },
    {
        "id": "d02d538dd1471b46",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.payload = msg.payload.item.id;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 1280,
        "wires": [
            [
                "68ea9c16f5999a28"
            ]
        ]
    },
    {
        "id": "89ae7d9a198b4b93",
        "type": "msg-router",
        "z": "9ea7c782.2684f8",
        "routerType": "broadcast",
        "topicDependent": false,
        "counterReset": false,
        "msgKeyField": "payload",
        "undefinedHash": false,
        "outputsInfo": [
            {
                "active": true,
                "clone": true,
                "delay": "100",
                "weight": "0"
            },
            {
                "active": true,
                "clone": true,
                "delay": "200",
                "weight": "0"
            },
            {
                "active": true,
                "clone": true,
                "delay": "300",
                "weight": "0"
            },
            {
                "active": true,
                "clone": true,
                "delay": "400",
                "weight": "0"
            },
            {
                "active": true,
                "clone": true,
                "delay": "500",
                "weight": "0"
            }
        ],
        "name": "",
        "delaying": "unrelated",
        "msgControl": false,
        "outputs": 5,
        "x": 1440,
        "y": 1280,
        "wires": [
            [
                "d0437e10dbe5a3c5"
            ],
            [
                "9d6d02ed071b0fb4"
            ],
            [
                "5485c5d292c8deaa"
            ],
            [
                "21e44e7d755b9636"
            ],
            [
                "72b59d044bdbe50b"
            ]
        ]
    },
    {
        "id": "e0e1c393d9d73aee",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1850,
        "y": 1220,
        "wires": [
            [
                "f8a14cac275d1496"
            ]
        ]
    },
    {
        "id": "d0437e10dbe5a3c5",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 0 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 1220,
        "wires": [
            [
                "e0e1c393d9d73aee"
            ]
        ]
    },
    {
        "id": "0ac0a549796113bc",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1850,
        "y": 1260,
        "wires": [
            [
                "f8a14cac275d1496"
            ]
        ]
    },
    {
        "id": "9d6d02ed071b0fb4",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 100 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 1260,
        "wires": [
            [
                "0ac0a549796113bc"
            ]
        ]
    },
    {
        "id": "b8647e53f690076a",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1850,
        "y": 1300,
        "wires": [
            [
                "f8a14cac275d1496"
            ]
        ]
    },
    {
        "id": "5485c5d292c8deaa",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 200 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 1300,
        "wires": [
            [
                "b8647e53f690076a"
            ]
        ]
    },
    {
        "id": "21e44e7d755b9636",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 300 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 1340,
        "wires": [
            [
                "3068166de98cc19e"
            ]
        ]
    },
    {
        "id": "3068166de98cc19e",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1850,
        "y": 1340,
        "wires": [
            [
                "f8a14cac275d1496"
            ]
        ]
    },
    {
        "id": "72b59d044bdbe50b",
        "type": "function",
        "z": "9ea7c782.2684f8",
        "name": "",
        "func": "msg.params = [['2vmZwch89WYD7xLZWlHMov'], {limit: 100, offset: 400 }];\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 1380,
        "wires": [
            [
                "c18003fea45202e3"
            ]
        ]
    },
    {
        "id": "c18003fea45202e3",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1850,
        "y": 1380,
        "wires": [
            [
                "f8a14cac275d1496"
            ]
        ]
    },
    {
        "id": "d4429f539318dfbf",
        "type": "delay",
        "z": "9ea7c782.2684f8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 840,
        "y": 1180,
        "wires": [
            [
                "badef735a3104dff"
            ]
        ]
    },
    {
        "id": "f8a14cac275d1496",
        "type": "merge",
        "z": "9ea7c782.2684f8",
        "name": "",
        "timeout": "2",
        "x": 2130,
        "y": 1260,
        "wires": [
            [
                "cd6a4061b8b49cac"
            ]
        ]
    },
    {
        "id": "cd6a4061b8b49cac",
        "type": "debug",
        "z": "9ea7c782.2684f8",
        "name": "debug 11",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2300,
        "y": 1260,
        "wires": []
    },
    {
        "id": "7813d5130d28f019",
        "type": "spotify",
        "z": "9ea7c782.2684f8",
        "name": "",
        "auth": "d886c36296b0b8b0",
        "api": "getPlaylistTracks",
        "x": 1650,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "c1587dab9364d0b8",
        "type": "msg-router",
        "z": "9ea7c782.2684f8",
        "routerType": "broadcast",
        "topicDependent": false,
        "counterReset": false,
        "msgKeyField": "payload",
        "undefinedHash": false,
        "outputsInfo": [
            {
                "active": true,
                "clone": true,
                "delay": "100",
                "weight": "0"
            },
            {
                "active": true,
                "clone": true,
                "delay": "200",
                "weight": "0"
            },
            {
                "active": true,
                "clone": true,
                "delay": "300",
                "weight": "0"
            },
            {
                "active": true,
                "clone": true,
                "delay": "400",
                "weight": "0"
            },
            {
                "active": true,
                "clone": true,
                "delay": "500",
                "weight": "0"
            }
        ],
        "name": "",
        "delaying": "unrelated",
        "msgControl": false,
        "outputs": 5,
        "x": 1360,
        "y": 1000,
        "wires": [
            [
                "bcdc9194fe1fde15"
            ],
            [
                "dbf0968b0dac7574"
            ],
            [
                "991e6a040ec452ab"
            ],
            [
                "858733a040473630"
            ],
            [
                "fae659cf47156305"
            ]
        ]
    },
    {
        "id": "f017368bd15eb4b8",
        "type": "debug",
        "z": "9ea7c782.2684f8",
        "name": "debug 12",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2540,
        "y": 860,
        "wires": []
    },
    {
        "id": "f3c77916fc78336f",
        "type": "merge",
        "z": "9ea7c782.2684f8",
        "name": "",
        "timeout": "2",
        "x": 2050,
        "y": 1000,
        "wires": [
            [
                "dad835726f813267"
            ]
        ]
    },
    {
        "id": "c1ac8e9511262578",
        "type": "ioBroker get",
        "z": "aab4e9c31a5a05e8",
        "name": "ACTUAL_TEMPERATURE",
        "topic": "hm-rpc.0.000EDF2992280C.1.ACTUAL_TEMPERATURE",
        "attrname": "payload",
        "payloadType": "value",
        "errOnInvalidState": "nothing",
        "x": 340,
        "y": 240,
        "wires": [
            [
                "c7ded350ec7acd38",
                "9e8e901bb10fc74c"
            ]
        ]
    },
    {
        "id": "a2e720cf9254ecbe",
        "type": "inject",
        "z": "aab4e9c31a5a05e8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "3",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "c1ac8e9511262578",
                "b3988c85795eb488"
            ]
        ]
    },
    {
        "id": "b3988c85795eb488",
        "type": "ioBroker get",
        "z": "aab4e9c31a5a05e8",
        "name": "HUMIDITY",
        "topic": "hm-rpc.0.000EDF2992280C.1.HUMIDITY",
        "attrname": "payload",
        "payloadType": "value",
        "errOnInvalidState": "nothing",
        "x": 290,
        "y": 300,
        "wires": [
            [
                "27c5e6b10963a366",
                "c8c9e2b7924d2e12"
            ]
        ]
    },
    {
        "id": "9e8e901bb10fc74c",
        "type": "mqtt out",
        "z": "aab4e9c31a5a05e8",
        "name": "",
        "topic": "HmIP_Aussentemperatur",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 990,
        "y": 220,
        "wires": []
    },
    {
        "id": "c8c9e2b7924d2e12",
        "type": "mqtt out",
        "z": "aab4e9c31a5a05e8",
        "name": "",
        "topic": "HmIP_Aussenfeuchtigkeit",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "953d9f0a.fef86",
        "x": 990,
        "y": 280,
        "wires": []
    },
    {
        "id": "27c5e6b10963a366",
        "type": "ccu-value",
        "z": "aab4e9c31a5a05e8",
        "name": "WettersensorDenis:HUMI",
        "iface": "CUxD",
        "channel": "CUX9002431:1 WettersensorDenis:1",
        "datapoint": "SET_HUMIDITY",
        "mode": "",
        "start": true,
        "change": false,
        "cache": false,
        "queue": false,
        "on": 0,
        "onType": "undefined",
        "ramp": 0,
        "rampType": "undefined",
        "working": false,
        "ccuConfig": "b37b3e386a6ac81e",
        "topic": "${CCU}/${Interface}/${channel}/${datapoint}",
        "x": 690,
        "y": 320,
        "wires": [
            [
                "c8c9e2b7924d2e12"
            ]
        ]
    },
    {
        "id": "c7ded350ec7acd38",
        "type": "ccu-value",
        "z": "aab4e9c31a5a05e8",
        "name": "WettersensorDenis:TEMP",
        "iface": "CUxD",
        "channel": "CUX9002431:1 WettersensorDenis:1",
        "datapoint": "SET_TEMPERATURE",
        "mode": "",
        "start": true,
        "change": false,
        "cache": false,
        "queue": false,
        "on": 0,
        "onType": "undefined",
        "ramp": 0,
        "rampType": "undefined",
        "working": false,
        "ccuConfig": "b37b3e386a6ac81e",
        "topic": "${CCU}/${Interface}/${channel}/${datapoint}",
        "x": 670,
        "y": 240,
        "wires": [
            [
                "9e8e901bb10fc74c"
            ]
        ]
    },
    {
        "id": "d08f5d7b8176092c",
        "type": "inject",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 560,
        "wires": [
            [
                "631ffa9a5d93fb81",
                "9bff1e26ecde296a",
                "f377e5a86cce51e4"
            ]
        ]
    },
    {
        "id": "2ceef6d17ad63305",
        "type": "inject",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 149,
        "y": 767,
        "wires": [
            [
                "64b9e6965844eb2a"
            ]
        ]
    },
    {
        "id": "4b21e8c8fd155dc5",
        "type": "ui_text",
        "z": "fcfb5c7c5a675bbf",
        "group": "e56bd52de9c931a4",
        "order": 1,
        "width": "10",
        "height": "2",
        "name": "Datum",
        "label": "",
        "format": "<font size=\"5\" color=\"#FFFFFF\">{{msg.payload}}</font>",
        "layout": "row-left",
        "className": "",
        "x": 630,
        "y": 580,
        "wires": []
    },
    {
        "id": "5d484e88d744706b",
        "type": "ui_text",
        "z": "fcfb5c7c5a675bbf",
        "group": "e56bd52de9c931a4",
        "order": 2,
        "width": "8",
        "height": "2",
        "name": "Uhrzeit",
        "label": "",
        "format": "<font size=\"6\"><font color=\"#FFFFFF\">{{msg.payload}}</font></font>&nbsp;&nbsp;<font size=\"5\">{{msg.indoor}}</font>",
        "layout": "row-right",
        "className": "",
        "x": 640,
        "y": 660,
        "wires": []
    },
    {
        "id": "e46a2b948dd2596e",
        "type": "ui_text",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "order": 5,
        "width": "12",
        "height": "2",
        "name": "Himmel",
        "label": "",
        "format": "<font size=\"5\" color=\"#DDDD00\">{{msg.payload}}</font>",
        "layout": "row-center",
        "className": "",
        "x": 800,
        "y": 740,
        "wires": []
    },
    {
        "id": "8510b67f5cc8a247",
        "type": "ui_text",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "order": 1,
        "width": "4",
        "height": "1",
        "name": "Regen",
        "label": "<font size=\"4\">Regen:</font>",
        "format": "<font size=\"4\"  color=\"#9999FF\">{{msg.payload}}%</font>",
        "layout": "row-left",
        "className": "",
        "x": 1330,
        "y": 1160,
        "wires": []
    },
    {
        "id": "6fab8a83e19c61b1",
        "type": "ui_text",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "order": 2,
        "width": "5",
        "height": "1",
        "name": "Wind",
        "label": "<font size=\"4\">Wind:</font>",
        "format": "<font size=\"4\"  color=\"#9999FF\">{{msg.payload}} m/s</font>",
        "layout": "row-center",
        "className": "",
        "x": 1350,
        "y": 1060,
        "wires": []
    },
    {
        "id": "1ae57a87129de921",
        "type": "ui_template",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "name": "Aktuell",
        "order": 8,
        "width": "8",
        "height": "4",
        "format": "<p align=\"center\" style=\"font-size:18pt;padding:0px;margin:0px\">Garten:</p>\n<p align=\"center\" style=\"font-size:68pt;padding:0px;margin:0px\">{{msg.payload}}</p>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1610,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "cee541a67b4c4635",
        "type": "ui_template",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "name": "Max",
        "order": 9,
        "width": "6",
        "height": "4",
        "format": "<div><p align=\"center\" style=\"font-size:18pt;padding:0px;margin:0px\">Max.</p></div>\n<p align=\"center\" style=\"font-size:68pt;padding:0px;margin:0px\">{{msg.payload}}</p>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1610,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "850a0e8886bff620",
        "type": "ui_template",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "name": "Min",
        "order": 7,
        "width": "6",
        "height": "4",
        "format": "<p align=\"center\" style=\"font-size:18pt;padding:0px;margin:0px\">Min.</p>\n<p align=\"center\" style=\"font-size:68pt;padding:0px;margin:0px\">{{msg.payload}}</p>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1610,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "38a07e4ca5758a99",
        "type": "ui_template",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "name": "Keller",
        "order": 15,
        "width": "4",
        "height": "1",
        "format": "<p align=\"center\" style=\"font-size:16pt;white-space:nowrap;overflow:hidden;\">Keller: <font color=\"yellow\">{{msg.payload}} °C</font></p>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 550,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "3bc406b866cec469",
        "type": "ui_template",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "name": "Wohnzimmer",
        "order": 16,
        "width": "8",
        "height": "1",
        "format": "<p align=\"center\" style=\"font-size:16pt;white-space:nowrap;overflow:hidden;\">Wohnzimmer: <font color=\"yellow\">{{msg.payload}} °C</font></p>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 570,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "edd44034877fe7a2",
        "type": "mqtt in",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "topic": "Wohnzimmer",
        "qos": "0",
        "datatype": "utf8",
        "broker": "9bc5b729.d3fe08",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 271,
        "y": 1475,
        "wires": [
            [
                "3bc406b866cec469"
            ]
        ]
    },
    {
        "id": "68027b5dc41d7f31",
        "type": "ui_text",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "order": 6,
        "width": "8",
        "height": "2",
        "name": "Tanken2",
        "label": "",
        "format": "<font size=\"5\" color=\"yellow\">Tankstelle: {{msg.payload}} €</font>",
        "layout": "row-left",
        "className": "",
        "x": 780,
        "y": 1800,
        "wires": []
    },
    {
        "id": "0710566176a518e8",
        "type": "ui_text",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "order": 3,
        "width": "4",
        "height": "1",
        "name": "Feucht",
        "label": "<font size=\"4\">Feucht:</font>",
        "format": "<font size=\"4\"  color=\"#9999FF\">{{msg.payload}}%</font>",
        "layout": "row-left",
        "className": "",
        "x": 550,
        "y": 1580,
        "wires": []
    },
    {
        "id": "dc60f90d49b0a7f4",
        "type": "mqtt in",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "topic": "HmIP_Aussenfeuchtigkeit",
        "qos": "0",
        "datatype": "utf8",
        "broker": "9bc5b729.d3fe08",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 310,
        "y": 1580,
        "wires": [
            [
                "0710566176a518e8"
            ]
        ]
    },
    {
        "id": "902655593bc1a62c",
        "type": "mqtt in",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "topic": "Keller",
        "qos": "0",
        "datatype": "utf8",
        "broker": "9bc5b729.d3fe08",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 290,
        "y": 1420,
        "wires": [
            [
                "38a07e4ca5758a99"
            ]
        ]
    },
    {
        "id": "8f9d0de692f4b328",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.openweathermap2_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 900,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "62cf724be76a160d",
        "type": "inject",
        "z": "fcfb5c7c5a675bbf",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 550,
        "y": 400,
        "wires": [
            [
                "8f9d0de692f4b328",
                "d05d2306cb911127",
                "4e992fc52fcba3fe",
                "43e40dba653552b8"
            ]
        ]
    },
    {
        "id": "d05d2306cb911127",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.openweathermap2_forecast_temperature_low",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 940,
        "y": 360,
        "wires": [
            [
                "44a3359361f006d2"
            ]
        ]
    },
    {
        "id": "4e992fc52fcba3fe",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.openweathermap2_forecast_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 930,
        "y": 420,
        "wires": [
            [
                "f8a797148fe720a7"
            ]
        ]
    },
    {
        "id": "43e40dba653552b8",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.temperatur_luft_aussen_temperatur_luft_garten_actual_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 990,
        "y": 520,
        "wires": [
            [
                "a4e5a236b5af636f"
            ]
        ]
    },
    {
        "id": "47bf8519556e875f",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.waschmaschine_remaining_time",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 940,
        "y": 240,
        "wires": [
            [
                "359ee8f8c961bb5e"
            ]
        ]
    },
    {
        "id": "3b041ffe84860876",
        "type": "ui_text",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "order": 4,
        "width": "6",
        "height": "1",
        "name": "Waschen",
        "label": "<font size=\"4\">Waschen:</font>",
        "format": "<font size=\"4\"  color=\"#9999FF\">{{msg.payload}}</font>",
        "layout": "row-left",
        "className": "",
        "x": 1260,
        "y": 100,
        "wires": []
    },
    {
        "id": "f6dbff74ad81af5d",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.openweathermap2_wind_speed",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1080,
        "y": 1100,
        "wires": [
            [
                "6fab8a83e19c61b1"
            ]
        ]
    },
    {
        "id": "29a7858d14b847d3",
        "type": "inject",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 750,
        "y": 1060,
        "wires": [
            [
                "f6dbff74ad81af5d",
                "14740c87889ba4df"
            ]
        ]
    },
    {
        "id": "14740c87889ba4df",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.openweathermap2_forecast_precipitation_probability",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1150,
        "y": 1240,
        "wires": [
            [
                "8510b67f5cc8a247"
            ]
        ]
    },
    {
        "id": "64b9e6965844eb2a",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.openweathermap2_weather",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 450,
        "y": 780,
        "wires": [
            [
                "e46a2b948dd2596e"
            ]
        ]
    },
    {
        "id": "44a3359361f006d2",
        "type": "calculator",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "round",
        "constant": "",
        "round": false,
        "decimals": 0,
        "x": 1300,
        "y": 380,
        "wires": [
            [
                "850a0e8886bff620"
            ]
        ]
    },
    {
        "id": "f8a797148fe720a7",
        "type": "calculator",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "round",
        "constant": "",
        "round": false,
        "decimals": 0,
        "x": 1320,
        "y": 440,
        "wires": [
            [
                "cee541a67b4c4635"
            ]
        ]
    },
    {
        "id": "a4e5a236b5af636f",
        "type": "calculator",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "round",
        "constant": "",
        "round": false,
        "decimals": "0",
        "x": 1420,
        "y": 520,
        "wires": [
            [
                "1ae57a87129de921"
            ]
        ]
    },
    {
        "id": "c4646aed8f493d8b",
        "type": "tankerkoenig2-detail",
        "z": "fcfb5c7c5a675bbf",
        "configNode": "4fdfe1abbacd4c92",
        "uuid": "005056ba-7cb6-1ed2-bceb-6ed90c618d20",
        "name": "star Heiligensee",
        "x": 360,
        "y": 1820,
        "wires": [
            [
                "4892754bf3f1a972"
            ]
        ]
    },
    {
        "id": "9d2fa97e2b071de3",
        "type": "inject",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1800",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1820,
        "wires": [
            [
                "c4646aed8f493d8b"
            ]
        ]
    },
    {
        "id": "921fd6ee841b0ece",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "g": "285e5ab5cc693eda",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "weather.openweathermap",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1460,
        "y": 640,
        "wires": [
            [
                "cf6e270330e80e39"
            ]
        ]
    },
    {
        "id": "cf6e270330e80e39",
        "type": "debug",
        "z": "fcfb5c7c5a675bbf",
        "d": true,
        "g": "285e5ab5cc693eda",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1800,
        "y": 640,
        "wires": []
    },
    {
        "id": "99bbd57c8bba015c",
        "type": "inject",
        "z": "fcfb5c7c5a675bbf",
        "d": true,
        "g": "285e5ab5cc693eda",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1210,
        "y": 680,
        "wires": [
            [
                "921fd6ee841b0ece",
                "2e61c3316aed7506"
            ]
        ]
    },
    {
        "id": "01d5e37d9169a0a2",
        "type": "debug",
        "z": "fcfb5c7c5a675bbf",
        "d": true,
        "g": "285e5ab5cc693eda",
        "name": "debug 4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1740,
        "y": 740,
        "wires": []
    },
    {
        "id": "ec70b70b3f6f0d74",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.hmip_ste2_pcb_002820c98f3a4d_actual_temperature_ch2",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 1280,
        "wires": [
            [
                "6b7fd8c19a8acccb"
            ]
        ]
    },
    {
        "id": "27b536124ef5555a",
        "type": "inject",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1180,
        "wires": [
            [
                "ec70b70b3f6f0d74"
            ]
        ]
    },
    {
        "id": "6b7fd8c19a8acccb",
        "type": "ui_template",
        "z": "fcfb5c7c5a675bbf",
        "group": "22a926e836b4544e",
        "name": "Pool",
        "order": 17,
        "width": "7",
        "height": "1",
        "format": "<p align=\"center\" style=\"font-size:16pt;white-space:nowrap;overflow:hidden;\">Pool: <font color=\"yellow\">{{msg.payload}} °C</font></p>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 390,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "4892754bf3f1a972",
        "type": "function",
        "z": "fcfb5c7c5a675bbf",
        "name": "Keller",
        "func": "var newMsg = { payload: msg.payload.station.prices.e10.toFixed(2) };\nreturn newMsg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 1820,
        "wires": [
            [
                "68027b5dc41d7f31"
            ]
        ]
    },
    {
        "id": "5f43bf54407f94ff",
        "type": "inject",
        "z": "fcfb5c7c5a675bbf",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 530,
        "y": 320,
        "wires": [
            [
                "47bf8519556e875f"
            ]
        ]
    },
    {
        "id": "631ffa9a5d93fb81",
        "type": "moment",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Berlin",
        "adjAmount": "0",
        "adjType": "hours",
        "adjDir": "add",
        "format": "dddd, D. MMMM YYYY",
        "locale": "de",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Europe/Berlin",
        "x": 400,
        "y": 600,
        "wires": [
            [
                "4b21e8c8fd155dc5"
            ]
        ]
    },
    {
        "id": "9bff1e26ecde296a",
        "type": "moment",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Berlin",
        "adjAmount": "0",
        "adjType": "hours",
        "adjDir": "add",
        "format": "HH:mm:ss",
        "locale": "de",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Europe/Berlin",
        "x": 380,
        "y": 700,
        "wires": [
            [
                "5d484e88d744706b"
            ]
        ]
    },
    {
        "id": "2e61c3316aed7506",
        "type": "openweathermap",
        "z": "fcfb5c7c5a675bbf",
        "g": "285e5ab5cc693eda",
        "name": "",
        "wtype": "forecast",
        "lon": "",
        "lat": "",
        "city": "Berlin",
        "country": "Germany",
        "language": "de",
        "x": 1510,
        "y": 740,
        "wires": [
            [
                "01d5e37d9169a0a2"
            ]
        ]
    },
    {
        "id": "57330795.4c5518",
        "type": "function",
        "z": "fcfb5c7c5a675bbf",
        "name": "Global-Keller",
        "func": "context.global.keller = msg.payload[0]\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "33c902b064aec6e2",
        "type": "jsonpath",
        "z": "fcfb5c7c5a675bbf",
        "expression": "DS18B20.Temperature",
        "split": false,
        "name": "",
        "x": 470,
        "y": 40,
        "wires": [
            [
                "57330795.4c5518"
            ]
        ]
    },
    {
        "id": "4352e1c06f506c82",
        "type": "mqtt in",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "topic": "tele/tasmota_keller_temp/SENSOR",
        "qos": "0",
        "datatype": "json",
        "broker": "9bc5b729.d3fe08",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 220,
        "y": 40,
        "wires": [
            [
                "33c902b064aec6e2"
            ]
        ]
    },
    {
        "id": "359ee8f8c961bb5e",
        "type": "moment",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Berlin",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "H:mm",
        "locale": "en-GB",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Europe/Berlin",
        "x": 980,
        "y": 80,
        "wires": [
            [
                "3b041ffe84860876"
            ]
        ]
    },
    {
        "id": "bec77bbfa0944a6e",
        "type": "api-current-state",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "server": "ba5ae90158a26445",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.wolke",
        "state_type": "habool",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 140,
        "wires": [
            [
                "09346252bc892d57"
            ]
        ]
    },
    {
        "id": "8ed72b5734496852",
        "type": "inject",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 140,
        "wires": [
            [
                "bec77bbfa0944a6e"
            ]
        ]
    },
    {
        "id": "b61f5e0afc998b04",
        "type": "api-call-service",
        "z": "fcfb5c7c5a675bbf",
        "name": "Wolke AN",
        "server": "ba5ae90158a26445",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [
            "d3a709a954aabe9ca02286ca42814547"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 820,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "14d9a14ce41d8b58",
        "type": "api-call-service",
        "z": "fcfb5c7c5a675bbf",
        "name": "Wolke AUS",
        "server": "ba5ae90158a26445",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [
            "d3a709a954aabe9ca02286ca42814547"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 830,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "cc3972db603499a4",
        "type": "switch",
        "z": "fcfb5c7c5a675bbf",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 200,
        "wires": [
            [
                "b61f5e0afc998b04"
            ],
            [
                "14d9a14ce41d8b58"
            ]
        ]
    },
    {
        "id": "0546e75b76416ece",
        "type": "debug",
        "z": "fcfb5c7c5a675bbf",
        "name": "debug 15",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 100,
        "wires": []
    },
    {
        "id": "09346252bc892d57",
        "type": "ui_multistyle-button",
        "z": "fcfb5c7c5a675bbf",
        "group": "450b32286513ccb9",
        "width": "2",
        "height": "2",
        "options": [
            {
                "value": "true",
                "icon": "",
                "iconColor": "",
                "textColor": "",
                "bgColor": "orange",
                "iconShadow": false,
                "textShadow": false
            },
            {
                "value": "false",
                "icon": "",
                "iconColor": "",
                "textColor": "",
                "bgColor": "grey",
                "iconShadow": false,
                "textShadow": false
            }
        ],
        "name": "Wolke",
        "order": 1,
        "class": "",
        "label": "Wolke",
        "sndLabel": "",
        "sndLabelPos": "top: 8px; left: 8px;",
        "sndLabelColor": "",
        "sndLabelSize": "0.5em",
        "payload": "payload",
        "payloadType": "msg",
        "noMatchDefault": true,
        "ignoreCases": false,
        "defaultIcon": "",
        "defaultIconColor": "",
        "defaultTextColor": "",
        "defaultBgColor": "",
        "defaultIconShadow": false,
        "defaultTextShadow": false,
        "sendValue": "toggle true false",
        "sendValueType": "str",
        "sendValueTo": "payload",
        "sendValueToType": "msg",
        "topic": "topic",
        "topicType": "msg",
        "x": 510,
        "y": 260,
        "wires": [
            [
                "cc3972db603499a4"
            ]
        ]
    },
    {
        "id": "f377e5a86cce51e4",
        "type": "ui_clock",
        "z": "fcfb5c7c5a675bbf",
        "d": true,
        "name": "",
        "group": "e56bd52de9c931a4",
        "order": 2,
        "width": "2",
        "height": "2",
        "x": 410,
        "y": 540,
        "wires": []
    },
    {
        "id": "20bb859504999082",
        "type": "ui_multistyle-button",
        "z": "fcfb5c7c5a675bbf",
        "group": "450b32286513ccb9",
        "width": "2",
        "height": "2",
        "options": [],
        "name": "Tor",
        "order": 3,
        "class": "",
        "label": "Tor",
        "sndLabel": "öffnen",
        "sndLabelPos": "bottom: 8px; left: 8px;",
        "sndLabelColor": "",
        "sndLabelSize": "0.5em",
        "payload": "payload",
        "payloadType": "msg",
        "noMatchDefault": true,
        "ignoreCases": false,
        "defaultIcon": "",
        "defaultIconColor": "",
        "defaultTextColor": "",
        "defaultBgColor": "",
        "defaultIconShadow": false,
        "defaultTextShadow": false,
        "sendValue": "toggle true false",
        "sendValueType": "str",
        "sendValueTo": "payload",
        "sendValueToType": "msg",
        "topic": "topic",
        "topicType": "msg",
        "x": 110,
        "y": 460,
        "wires": [
            [
                "68716a61786281b5"
            ]
        ]
    },
    {
        "id": "68716a61786281b5",
        "type": "api-call-service",
        "z": "fcfb5c7c5a675bbf",
        "name": "Tor",
        "server": "ba5ae90158a26445",
        "version": 5,
        "debugenabled": false,
        "domain": "automation",
        "service": "trigger",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "automation.toroffner"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 230,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "a11130329e207a96",
        "type": "inject",
        "z": "cd8bae607e79e91e",
        "d": true,
        "name": "GetSnapshot",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "Snapshot",
        "payload": "true",
        "payloadType": "bool",
        "x": 120,
        "y": 200,
        "wires": [
            [
                "b7ca111601cacba3"
            ]
        ]
    },
    {
        "id": "a65674f09bcb8c78",
        "type": "change",
        "z": "cd8bae607e79e91e",
        "name": "URL",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://192.168.1.46:5000/webapi/entry.cgi?api=SYNO.SurveillanceStation.Camera&method=GetInfo&version=1&cameraIds=1&_sid=",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "$join($append($string(msg.url), msg.payload.data.sid))",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "_msgid",
                "pt": "msg",
                "to": "payload.data.sid",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 120,
        "wires": [
            [
                "2e0749be256682d0"
            ]
        ]
    },
    {
        "id": "c4506380a67ad130",
        "type": "change",
        "z": "cd8bae607e79e91e",
        "name": "URL 1/2",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "payload.data.cameras.0.snapshot_path",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "$join($append(\"http://192.168.1.46:5000\", msg.url)\t)\t",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "temp",
                "pt": "msg",
                "to": "$join($append(\"&_sid=\", msg._msgid)\t)\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 300,
        "wires": [
            [
                "ccf8d62f750b4148"
            ]
        ]
    },
    {
        "id": "ccf8d62f750b4148",
        "type": "change",
        "z": "cd8bae607e79e91e",
        "name": "URL 2/2",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "$join($append(msg.url, msg.temp)\t)\t",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 300,
        "wires": [
            [
                "1317b99f828bd53c"
            ]
        ]
    },
    {
        "id": "1317b99f828bd53c",
        "type": "ui_template",
        "z": "cd8bae607e79e91e",
        "group": "450b32286513ccb9",
        "name": "Demo",
        "order": 5,
        "width": "7",
        "height": "5",
        "format": "\n<img ng-src=\"{{msg.url}}\" >\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 870,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "7a89dd5cc3b38af9",
        "type": "comment",
        "z": "cd8bae607e79e91e",
        "name": "ReadMe",
        "info": "Work on Synology DSM 5.2 and\nSurveillance Station 7.1\n\nChange the http://HOST:5000 \nin node \"Login\", \"URL\", \"URL 1/2\"\n\nAnd change ACCOUNT and PASS in node \"Login\"\n...&account=ACCOUNT&passwd=PASS...",
        "x": 720,
        "y": 80,
        "wires": []
    },
    {
        "id": "b7ca111601cacba3",
        "type": "www-request",
        "z": "cd8bae607e79e91e",
        "name": "Login",
        "method": "GET",
        "ret": "obj",
        "url": "http://192.168.1.46:5000/webapi/entry.cgi?api=SYNO.API.Auth&method=Login&version=6&account=denis&passwd=Cafeaffe99!!$$&session=SurveillanceStation",
        "follow-redirects": false,
        "persistent-http": true,
        "tls": "",
        "x": 290,
        "y": 220,
        "wires": [
            [
                "a65674f09bcb8c78",
                "22fd8c97f4ebde6b"
            ]
        ]
    },
    {
        "id": "2e0749be256682d0",
        "type": "www-request",
        "z": "cd8bae607e79e91e",
        "name": "GetInfo",
        "method": "GET",
        "ret": "obj",
        "url": "",
        "follow-redirects": false,
        "persistent-http": false,
        "tls": "",
        "x": 520,
        "y": 200,
        "wires": [
            [
                "c4506380a67ad130"
            ]
        ]
    },
    {
        "id": "22fd8c97f4ebde6b",
        "type": "change",
        "z": "cd8bae607e79e91e",
        "name": "URL",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://192.168.1.46:5000/webapi/entry.cgi?api=SYNO.SurveillanceStation.Camera&method=GetInfo&version=1&cameraIds=2&_sid=",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "$join($append($string(msg.url), msg.payload.data.sid))",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "_msgid",
                "pt": "msg",
                "to": "payload.data.sid",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 380,
        "wires": [
            [
                "fe36d0c172ec3fb8"
            ]
        ]
    },
    {
        "id": "fae8e9e238055e56",
        "type": "change",
        "z": "cd8bae607e79e91e",
        "name": "URL 1/2",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "payload.data.cameras.0.snapshot_path",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "$join($append(\"http://192.168.1.46:5000\", msg.url)\t)\t",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "temp",
                "pt": "msg",
                "to": "$join($append(\"&_sid=\", msg._msgid)\t)\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 480,
        "wires": [
            [
                "841534e4aecc666d"
            ]
        ]
    },
    {
        "id": "841534e4aecc666d",
        "type": "change",
        "z": "cd8bae607e79e91e",
        "name": "URL 2/2",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "$join($append(msg.url, msg.temp)\t)\t",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "headers",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 520,
        "wires": [
            [
                "20d10f35ebc326ee"
            ]
        ]
    },
    {
        "id": "20d10f35ebc326ee",
        "type": "ui_template",
        "z": "cd8bae607e79e91e",
        "group": "450b32286513ccb9",
        "name": "Demo",
        "order": 5,
        "width": "5",
        "height": "5",
        "format": "<img ng-src=\"{{msg.url}}\">",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 810,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "fe36d0c172ec3fb8",
        "type": "www-request",
        "z": "cd8bae607e79e91e",
        "name": "GetInfo",
        "method": "GET",
        "ret": "obj",
        "url": "",
        "follow-redirects": false,
        "persistent-http": false,
        "tls": "",
        "x": 360,
        "y": 460,
        "wires": [
            [
                "fae8e9e238055e56"
            ]
        ]
    }
]